{"ast":null,"code":"var Ae = Object.create;\nvar vt = Object.defineProperty,\n    Ne = Object.defineProperties,\n    Ge = Object.getOwnPropertyDescriptor,\n    We = Object.getOwnPropertyDescriptors,\n    Ue = Object.getOwnPropertyNames,\n    At = Object.getOwnPropertySymbols,\n    Be = Object.getPrototypeOf,\n    Gt = Object.prototype.hasOwnProperty,\n    He = Object.prototype.propertyIsEnumerable;\n\nvar Nt = (o, t, e) => t in o ? vt(o, t, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: e\n}) : o[t] = e,\n    S = (o, t) => {\n  for (var e in t || (t = {})) Gt.call(t, e) && Nt(o, e, t[e]);\n\n  if (At) for (var e of At(t)) He.call(t, e) && Nt(o, e, t[e]);\n  return o;\n},\n    U = (o, t) => Ne(o, We(t));\n\nvar je = (o, t) => () => (t || o((t = {\n  exports: {}\n}).exports, t), t.exports);\n\nvar Ve = (o, t, e, r) => {\n  if (t && typeof t == \"object\" || typeof t == \"function\") for (let i of Ue(t)) !Gt.call(o, i) && i !== e && vt(o, i, {\n    get: () => t[i],\n    enumerable: !(r = Ge(t, i)) || r.enumerable\n  });\n  return o;\n};\n\nvar $e = (o, t, e) => (e = o != null ? Ae(Be(o)) : {}, Ve(t || !o || !o.__esModule ? vt(e, \"default\", {\n  value: o,\n  enumerable: !0\n}) : e, o));\n\nvar ne = je((lr, st) => {\n  var Wt, Ut, Bt, Ht, jt, Vt, $t, zt, Yt, ot, yt, Xt, Kt, qt, B, Zt, Qt, Jt, te, ee, re, ie, oe, nt;\n\n  (function (o) {\n    var t = typeof global == \"object\" ? global : typeof self == \"object\" ? self : typeof this == \"object\" ? this : {};\n    typeof define == \"function\" && define.amd ? define(\"tslib\", [\"exports\"], function (r) {\n      o(e(t, e(r)));\n    }) : typeof st == \"object\" && typeof st.exports == \"object\" ? o(e(t, e(st.exports))) : o(e(t));\n\n    function e(r, i) {\n      return r !== t && (typeof Object.create == \"function\" ? Object.defineProperty(r, \"__esModule\", {\n        value: !0\n      }) : r.__esModule = !0), function (n, s) {\n        return r[n] = i ? i(n, s) : s;\n      };\n    }\n  })(function (o) {\n    var t = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (r, i) {\n      r.__proto__ = i;\n    } || function (r, i) {\n      for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (r[n] = i[n]);\n    };\n\n    Wt = function (r, i) {\n      if (typeof i != \"function\" && i !== null) throw new TypeError(\"Class extends value \" + String(i) + \" is not a constructor or null\");\n      t(r, i);\n\n      function n() {\n        this.constructor = r;\n      }\n\n      r.prototype = i === null ? Object.create(i) : (n.prototype = i.prototype, new n());\n    }, Ut = Object.assign || function (r) {\n      for (var i, n = 1, s = arguments.length; n < s; n++) {\n        i = arguments[n];\n\n        for (var h in i) Object.prototype.hasOwnProperty.call(i, h) && (r[h] = i[h]);\n      }\n\n      return r;\n    }, Bt = function (r, i) {\n      var n = {};\n\n      for (var s in r) Object.prototype.hasOwnProperty.call(r, s) && i.indexOf(s) < 0 && (n[s] = r[s]);\n\n      if (r != null && typeof Object.getOwnPropertySymbols == \"function\") for (var h = 0, s = Object.getOwnPropertySymbols(r); h < s.length; h++) i.indexOf(s[h]) < 0 && Object.prototype.propertyIsEnumerable.call(r, s[h]) && (n[s[h]] = r[s[h]]);\n      return n;\n    }, Ht = function (r, i, n, s) {\n      var h = arguments.length,\n          a = h < 3 ? i : s === null ? s = Object.getOwnPropertyDescriptor(i, n) : s,\n          p;\n      if (typeof Reflect == \"object\" && typeof Reflect.decorate == \"function\") a = Reflect.decorate(r, i, n, s);else for (var u = r.length - 1; u >= 0; u--) (p = r[u]) && (a = (h < 3 ? p(a) : h > 3 ? p(i, n, a) : p(i, n)) || a);\n      return h > 3 && a && Object.defineProperty(i, n, a), a;\n    }, jt = function (r, i) {\n      return function (n, s) {\n        i(n, s, r);\n      };\n    }, Vt = function (r, i) {\n      if (typeof Reflect == \"object\" && typeof Reflect.metadata == \"function\") return Reflect.metadata(r, i);\n    }, $t = function (r, i, n, s) {\n      function h(a) {\n        return a instanceof n ? a : new n(function (p) {\n          p(a);\n        });\n      }\n\n      return new (n || (n = Promise))(function (a, p) {\n        function u(d) {\n          try {\n            c(s.next(d));\n          } catch (D) {\n            p(D);\n          }\n        }\n\n        function y(d) {\n          try {\n            c(s.throw(d));\n          } catch (D) {\n            p(D);\n          }\n        }\n\n        function c(d) {\n          d.done ? a(d.value) : h(d.value).then(u, y);\n        }\n\n        c((s = s.apply(r, i || [])).next());\n      });\n    }, zt = function (r, i) {\n      var n = {\n        label: 0,\n        sent: function () {\n          if (a[0] & 1) throw a[1];\n          return a[1];\n        },\n        trys: [],\n        ops: []\n      },\n          s,\n          h,\n          a,\n          p;\n      return p = {\n        next: u(0),\n        throw: u(1),\n        return: u(2)\n      }, typeof Symbol == \"function\" && (p[Symbol.iterator] = function () {\n        return this;\n      }), p;\n\n      function u(c) {\n        return function (d) {\n          return y([c, d]);\n        };\n      }\n\n      function y(c) {\n        if (s) throw new TypeError(\"Generator is already executing.\");\n\n        for (; n;) try {\n          if (s = 1, h && (a = c[0] & 2 ? h.return : c[0] ? h.throw || ((a = h.return) && a.call(h), 0) : h.next) && !(a = a.call(h, c[1])).done) return a;\n\n          switch (h = 0, a && (c = [c[0] & 2, a.value]), c[0]) {\n            case 0:\n            case 1:\n              a = c;\n              break;\n\n            case 4:\n              return n.label++, {\n                value: c[1],\n                done: !1\n              };\n\n            case 5:\n              n.label++, h = c[1], c = [0];\n              continue;\n\n            case 7:\n              c = n.ops.pop(), n.trys.pop();\n              continue;\n\n            default:\n              if (a = n.trys, !(a = a.length > 0 && a[a.length - 1]) && (c[0] === 6 || c[0] === 2)) {\n                n = 0;\n                continue;\n              }\n\n              if (c[0] === 3 && (!a || c[1] > a[0] && c[1] < a[3])) {\n                n.label = c[1];\n                break;\n              }\n\n              if (c[0] === 6 && n.label < a[1]) {\n                n.label = a[1], a = c;\n                break;\n              }\n\n              if (a && n.label < a[2]) {\n                n.label = a[2], n.ops.push(c);\n                break;\n              }\n\n              a[2] && n.ops.pop(), n.trys.pop();\n              continue;\n          }\n\n          c = i.call(r, n);\n        } catch (d) {\n          c = [6, d], h = 0;\n        } finally {\n          s = a = 0;\n        }\n\n        if (c[0] & 5) throw c[1];\n        return {\n          value: c[0] ? c[1] : void 0,\n          done: !0\n        };\n      }\n    }, Yt = function (r, i) {\n      for (var n in r) n !== \"default\" && !Object.prototype.hasOwnProperty.call(i, n) && nt(i, r, n);\n    }, nt = Object.create ? function (r, i, n, s) {\n      s === void 0 && (s = n), Object.defineProperty(r, s, {\n        enumerable: !0,\n        get: function () {\n          return i[n];\n        }\n      });\n    } : function (r, i, n, s) {\n      s === void 0 && (s = n), r[s] = i[n];\n    }, ot = function (r) {\n      var i = typeof Symbol == \"function\" && Symbol.iterator,\n          n = i && r[i],\n          s = 0;\n      if (n) return n.call(r);\n      if (r && typeof r.length == \"number\") return {\n        next: function () {\n          return r && s >= r.length && (r = void 0), {\n            value: r && r[s++],\n            done: !r\n          };\n        }\n      };\n      throw new TypeError(i ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    }, yt = function (r, i) {\n      var n = typeof Symbol == \"function\" && r[Symbol.iterator];\n      if (!n) return r;\n      var s = n.call(r),\n          h,\n          a = [],\n          p;\n\n      try {\n        for (; (i === void 0 || i-- > 0) && !(h = s.next()).done;) a.push(h.value);\n      } catch (u) {\n        p = {\n          error: u\n        };\n      } finally {\n        try {\n          h && !h.done && (n = s.return) && n.call(s);\n        } finally {\n          if (p) throw p.error;\n        }\n      }\n\n      return a;\n    }, Xt = function () {\n      for (var r = [], i = 0; i < arguments.length; i++) r = r.concat(yt(arguments[i]));\n\n      return r;\n    }, Kt = function () {\n      for (var r = 0, i = 0, n = arguments.length; i < n; i++) r += arguments[i].length;\n\n      for (var s = Array(r), h = 0, i = 0; i < n; i++) for (var a = arguments[i], p = 0, u = a.length; p < u; p++, h++) s[h] = a[p];\n\n      return s;\n    }, qt = function (r, i) {\n      for (var n = 0, s = i.length, h = r.length; n < s; n++, h++) r[h] = i[n];\n\n      return r;\n    }, B = function (r) {\n      return this instanceof B ? (this.v = r, this) : new B(r);\n    }, Zt = function (r, i, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var s = n.apply(r, i || []),\n          h,\n          a = [];\n      return h = {}, p(\"next\"), p(\"throw\"), p(\"return\"), h[Symbol.asyncIterator] = function () {\n        return this;\n      }, h;\n\n      function p(m) {\n        s[m] && (h[m] = function (W) {\n          return new Promise(function (gt, ke) {\n            a.push([m, W, gt, ke]) > 1 || u(m, W);\n          });\n        });\n      }\n\n      function u(m, W) {\n        try {\n          y(s[m](W));\n        } catch (gt) {\n          D(a[0][3], gt);\n        }\n      }\n\n      function y(m) {\n        m.value instanceof B ? Promise.resolve(m.value.v).then(c, d) : D(a[0][2], m);\n      }\n\n      function c(m) {\n        u(\"next\", m);\n      }\n\n      function d(m) {\n        u(\"throw\", m);\n      }\n\n      function D(m, W) {\n        m(W), a.shift(), a.length && u(a[0][0], a[0][1]);\n      }\n    }, Qt = function (r) {\n      var i, n;\n      return i = {}, s(\"next\"), s(\"throw\", function (h) {\n        throw h;\n      }), s(\"return\"), i[Symbol.iterator] = function () {\n        return this;\n      }, i;\n\n      function s(h, a) {\n        i[h] = r[h] ? function (p) {\n          return (n = !n) ? {\n            value: B(r[h](p)),\n            done: h === \"return\"\n          } : a ? a(p) : p;\n        } : a;\n      }\n    }, Jt = function (r) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var i = r[Symbol.asyncIterator],\n          n;\n      return i ? i.call(r) : (r = typeof ot == \"function\" ? ot(r) : r[Symbol.iterator](), n = {}, s(\"next\"), s(\"throw\"), s(\"return\"), n[Symbol.asyncIterator] = function () {\n        return this;\n      }, n);\n\n      function s(a) {\n        n[a] = r[a] && function (p) {\n          return new Promise(function (u, y) {\n            p = r[a](p), h(u, y, p.done, p.value);\n          });\n        };\n      }\n\n      function h(a, p, u, y) {\n        Promise.resolve(y).then(function (c) {\n          a({\n            value: c,\n            done: u\n          });\n        }, p);\n      }\n    }, te = function (r, i) {\n      return Object.defineProperty ? Object.defineProperty(r, \"raw\", {\n        value: i\n      }) : r.raw = i, r;\n    };\n    var e = Object.create ? function (r, i) {\n      Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: i\n      });\n    } : function (r, i) {\n      r.default = i;\n    };\n    ee = function (r) {\n      if (r && r.__esModule) return r;\n      var i = {};\n      if (r != null) for (var n in r) n !== \"default\" && Object.prototype.hasOwnProperty.call(r, n) && nt(i, r, n);\n      return e(i, r), i;\n    }, re = function (r) {\n      return r && r.__esModule ? r : {\n        default: r\n      };\n    }, ie = function (r, i) {\n      if (!i.has(r)) throw new TypeError(\"attempted to get private field on non-instance\");\n      return i.get(r);\n    }, oe = function (r, i, n) {\n      if (!i.has(r)) throw new TypeError(\"attempted to set private field on non-instance\");\n      return i.set(r, n), n;\n    }, o(\"__extends\", Wt), o(\"__assign\", Ut), o(\"__rest\", Bt), o(\"__decorate\", Ht), o(\"__param\", jt), o(\"__metadata\", Vt), o(\"__awaiter\", $t), o(\"__generator\", zt), o(\"__exportStar\", Yt), o(\"__createBinding\", nt), o(\"__values\", ot), o(\"__read\", yt), o(\"__spread\", Xt), o(\"__spreadArrays\", Kt), o(\"__spreadArray\", qt), o(\"__await\", B), o(\"__asyncGenerator\", Zt), o(\"__asyncDelegator\", Qt), o(\"__asyncValues\", Jt), o(\"__makeTemplateObject\", te), o(\"__importStar\", ee), o(\"__importDefault\", re), o(\"__classPrivateFieldGet\", ie), o(\"__classPrivateFieldSet\", oe);\n  });\n});\nvar v = class {\n  static get() {\n    return v.config;\n  }\n\n  static set(t) {\n    v.config = t;\n  }\n\n};\n\nvar it = (i => (i.DONT_BLOCK = \"DONT_BLOCK\", i.BLOCK_TWO_TILES = \"BLOCK_TWO_TILES\", i.BLOCK_ONE_TILE_AHEAD = \"BLOCK_ONE_TILE_AHEAD\", i.BLOCK_ONE_TILE_BEHIND = \"BLOCK_ONE_TILE_BEHIND\", i))(it || {});\n\nfunction f(o) {\n  return typeof o == \"function\";\n}\n\nfunction ze(o) {\n  return f(o == null ? void 0 : o.lift);\n}\n\nfunction O(o) {\n  return function (t) {\n    if (ze(t)) return t.lift(function (e) {\n      try {\n        return o(e, this);\n      } catch (r) {\n        this.error(r);\n      }\n    });\n    throw new TypeError(\"Unable to lift unknown Observable type\");\n  };\n}\n\nvar se = $e(ne(), 1),\n    {\n  __extends: E,\n  __assign: pr,\n  __rest: cr,\n  __decorate: ur,\n  __param: mr,\n  __metadata: fr,\n  __awaiter: ae,\n  __generator: at,\n  __exportStar: dr,\n  __createBinding: gr,\n  __values: M,\n  __read: F,\n  __spread: vr,\n  __spreadArrays: yr,\n  __spreadArray: I,\n  __await: ht,\n  __asyncGenerator: he,\n  __asyncDelegator: xr,\n  __asyncValues: le,\n  __makeTemplateObject: br,\n  __importStar: Tr,\n  __importDefault: Pr,\n  __classPrivateFieldGet: Sr,\n  __classPrivateFieldSet: Cr\n} = se.default;\n\nvar pe = function (o) {\n  return o && typeof o.length == \"number\" && typeof o != \"function\";\n};\n\nfunction ce(o) {\n  return f(o == null ? void 0 : o.then);\n}\n\nfunction lt(o) {\n  var t = function (r) {\n    Error.call(r), r.stack = new Error().stack;\n  },\n      e = o(t);\n\n  return e.prototype = Object.create(Error.prototype), e.prototype.constructor = e, e;\n}\n\nvar pt = lt(function (o) {\n  return function (e) {\n    o(this), this.message = e ? e.length + ` errors occurred during unsubscription:\n` + e.map(function (r, i) {\n      return i + 1 + \") \" + r.toString();\n    }).join(`\n  `) : \"\", this.name = \"UnsubscriptionError\", this.errors = e;\n  };\n});\n\nfunction K(o, t) {\n  if (o) {\n    var e = o.indexOf(t);\n    0 <= e && o.splice(e, 1);\n  }\n}\n\nvar H = function () {\n  function o(t) {\n    this.initialTeardown = t, this.closed = !1, this._parentage = null, this._teardowns = null;\n  }\n\n  return o.prototype.unsubscribe = function () {\n    var t, e, r, i, n;\n\n    if (!this.closed) {\n      this.closed = !0;\n      var s = this._parentage;\n      if (s) if (this._parentage = null, Array.isArray(s)) try {\n        for (var h = M(s), a = h.next(); !a.done; a = h.next()) {\n          var p = a.value;\n          p.remove(this);\n        }\n      } catch (m) {\n        t = {\n          error: m\n        };\n      } finally {\n        try {\n          a && !a.done && (e = h.return) && e.call(h);\n        } finally {\n          if (t) throw t.error;\n        }\n      } else s.remove(this);\n      var u = this.initialTeardown;\n      if (f(u)) try {\n        u();\n      } catch (m) {\n        n = m instanceof pt ? m.errors : [m];\n      }\n      var y = this._teardowns;\n\n      if (y) {\n        this._teardowns = null;\n\n        try {\n          for (var c = M(y), d = c.next(); !d.done; d = c.next()) {\n            var D = d.value;\n\n            try {\n              ue(D);\n            } catch (m) {\n              n = n != null ? n : [], m instanceof pt ? n = I(I([], F(n), !1), F(m.errors), !1) : n.push(m);\n            }\n          }\n        } catch (m) {\n          r = {\n            error: m\n          };\n        } finally {\n          try {\n            d && !d.done && (i = c.return) && i.call(c);\n          } finally {\n            if (r) throw r.error;\n          }\n        }\n      }\n\n      if (n) throw new pt(n);\n    }\n  }, o.prototype.add = function (t) {\n    var e;\n    if (t && t !== this) if (this.closed) ue(t);else {\n      if (t instanceof o) {\n        if (t.closed || t._hasParent(this)) return;\n\n        t._addParent(this);\n      }\n\n      (this._teardowns = (e = this._teardowns) !== null && e !== void 0 ? e : []).push(t);\n    }\n  }, o.prototype._hasParent = function (t) {\n    var e = this._parentage;\n    return e === t || Array.isArray(e) && e.includes(t);\n  }, o.prototype._addParent = function (t) {\n    var e = this._parentage;\n    this._parentage = Array.isArray(e) ? (e.push(t), e) : e ? [e, t] : t;\n  }, o.prototype._removeParent = function (t) {\n    var e = this._parentage;\n    e === t ? this._parentage = null : Array.isArray(e) && K(e, t);\n  }, o.prototype.remove = function (t) {\n    var e = this._teardowns;\n    e && K(e, t), t instanceof o && t._removeParent(this);\n  }, o.EMPTY = function () {\n    var t = new o();\n    return t.closed = !0, t;\n  }(), o;\n}();\n\nvar xt = H.EMPTY;\n\nfunction ct(o) {\n  return o instanceof H || o && \"closed\" in o && f(o.remove) && f(o.add) && f(o.unsubscribe);\n}\n\nfunction ue(o) {\n  f(o) ? o() : o.unsubscribe();\n}\n\nvar P = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: void 0,\n  useDeprecatedSynchronousErrorHandling: !1,\n  useDeprecatedNextContext: !1\n};\nvar j = {\n  setTimeout: function () {\n    for (var o = [], t = 0; t < arguments.length; t++) o[t] = arguments[t];\n\n    var e = j.delegate;\n    return ((e == null ? void 0 : e.setTimeout) || setTimeout).apply(void 0, I([], F(o), !1));\n  },\n  clearTimeout: function (o) {\n    var t = j.delegate;\n    return ((t == null ? void 0 : t.clearTimeout) || clearTimeout)(o);\n  },\n  delegate: void 0\n};\n\nfunction ut(o) {\n  j.setTimeout(function () {\n    var t = P.onUnhandledError;\n    if (t) t(o);else throw o;\n  });\n}\n\nfunction k() {}\n\nvar me = function () {\n  return bt(\"C\", void 0, void 0);\n}();\n\nfunction fe(o) {\n  return bt(\"E\", void 0, o);\n}\n\nfunction de(o) {\n  return bt(\"N\", o, void 0);\n}\n\nfunction bt(o, t, e) {\n  return {\n    kind: o,\n    value: t,\n    error: e\n  };\n}\n\nvar A = null;\n\nfunction V(o) {\n  if (P.useDeprecatedSynchronousErrorHandling) {\n    var t = !A;\n\n    if (t && (A = {\n      errorThrown: !1,\n      error: null\n    }), o(), t) {\n      var e = A,\n          r = e.errorThrown,\n          i = e.error;\n      if (A = null, r) throw i;\n    }\n  } else o();\n}\n\nfunction ge(o) {\n  P.useDeprecatedSynchronousErrorHandling && A && (A.errorThrown = !0, A.error = o);\n}\n\nvar q = function (o) {\n  E(t, o);\n\n  function t(e) {\n    var r = o.call(this) || this;\n    return r.isStopped = !1, e ? (r.destination = e, ct(e) && e.add(r)) : r.destination = Ye, r;\n  }\n\n  return t.create = function (e, r, i) {\n    return new St(e, r, i);\n  }, t.prototype.next = function (e) {\n    this.isStopped ? Pt(de(e), this) : this._next(e);\n  }, t.prototype.error = function (e) {\n    this.isStopped ? Pt(fe(e), this) : (this.isStopped = !0, this._error(e));\n  }, t.prototype.complete = function () {\n    this.isStopped ? Pt(me, this) : (this.isStopped = !0, this._complete());\n  }, t.prototype.unsubscribe = function () {\n    this.closed || (this.isStopped = !0, o.prototype.unsubscribe.call(this), this.destination = null);\n  }, t.prototype._next = function (e) {\n    this.destination.next(e);\n  }, t.prototype._error = function (e) {\n    try {\n      this.destination.error(e);\n    } finally {\n      this.unsubscribe();\n    }\n  }, t.prototype._complete = function () {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  }, t;\n}(H);\n\nvar St = function (o) {\n  E(t, o);\n\n  function t(e, r, i) {\n    var n = o.call(this) || this,\n        s;\n    if (f(e)) s = e;else if (e) {\n      s = e.next, r = e.error, i = e.complete;\n      var h;\n      n && P.useDeprecatedNextContext ? (h = Object.create(e), h.unsubscribe = function () {\n        return n.unsubscribe();\n      }) : h = e, s = s == null ? void 0 : s.bind(h), r = r == null ? void 0 : r.bind(h), i = i == null ? void 0 : i.bind(h);\n    }\n    return n.destination = {\n      next: s ? Tt(s, n) : k,\n      error: Tt(r != null ? r : ve, n),\n      complete: i ? Tt(i, n) : k\n    }, n;\n  }\n\n  return t;\n}(q);\n\nfunction Tt(o, t) {\n  return function () {\n    for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];\n\n    try {\n      o.apply(void 0, I([], F(e), !1));\n    } catch (i) {\n      P.useDeprecatedSynchronousErrorHandling ? ge(i) : ut(i);\n    }\n  };\n}\n\nfunction ve(o) {\n  throw o;\n}\n\nfunction Pt(o, t) {\n  var e = P.onStoppedNotification;\n  e && j.setTimeout(function () {\n    return e(o, t);\n  });\n}\n\nvar Ye = {\n  closed: !0,\n  next: k,\n  error: ve,\n  complete: k\n};\n\nvar $ = function () {\n  return typeof Symbol == \"function\" && Symbol.observable || \"@@observable\";\n}();\n\nfunction ye(o) {\n  return o;\n}\n\nfunction xe(o) {\n  return o.length === 0 ? ye : o.length === 1 ? o[0] : function (e) {\n    return o.reduce(function (r, i) {\n      return i(r);\n    }, e);\n  };\n}\n\nvar b = function () {\n  function o(t) {\n    t && (this._subscribe = t);\n  }\n\n  return o.prototype.lift = function (t) {\n    var e = new o();\n    return e.source = this, e.operator = t, e;\n  }, o.prototype.subscribe = function (t, e, r) {\n    var i = this,\n        n = Ke(t) ? t : new St(t, e, r);\n    return V(function () {\n      var s = i,\n          h = s.operator,\n          a = s.source;\n      n.add(h ? h.call(n, a) : a ? i._subscribe(n) : i._trySubscribe(n));\n    }), n;\n  }, o.prototype._trySubscribe = function (t) {\n    try {\n      return this._subscribe(t);\n    } catch (e) {\n      t.error(e);\n    }\n  }, o.prototype.forEach = function (t, e) {\n    var r = this;\n    return e = be(e), new e(function (i, n) {\n      var s;\n      s = r.subscribe(function (h) {\n        try {\n          t(h);\n        } catch (a) {\n          n(a), s == null || s.unsubscribe();\n        }\n      }, n, i);\n    });\n  }, o.prototype._subscribe = function (t) {\n    var e;\n    return (e = this.source) === null || e === void 0 ? void 0 : e.subscribe(t);\n  }, o.prototype[$] = function () {\n    return this;\n  }, o.prototype.pipe = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    return xe(t)(this);\n  }, o.prototype.toPromise = function (t) {\n    var e = this;\n    return t = be(t), new t(function (r, i) {\n      var n;\n      e.subscribe(function (s) {\n        return n = s;\n      }, function (s) {\n        return i(s);\n      }, function () {\n        return r(n);\n      });\n    });\n  }, o.create = function (t) {\n    return new o(t);\n  }, o;\n}();\n\nfunction be(o) {\n  var t;\n  return (t = o != null ? o : P.Promise) !== null && t !== void 0 ? t : Promise;\n}\n\nfunction Xe(o) {\n  return o && f(o.next) && f(o.error) && f(o.complete);\n}\n\nfunction Ke(o) {\n  return o && o instanceof q || Xe(o) && ct(o);\n}\n\nfunction Te(o) {\n  return f(o[$]);\n}\n\nfunction Pe(o) {\n  return Symbol.asyncIterator && f(o == null ? void 0 : o[Symbol.asyncIterator]);\n}\n\nfunction Se(o) {\n  return new TypeError(\"You provided \" + (o !== null && typeof o == \"object\" ? \"an invalid object\" : \"'\" + o + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\nfunction qe() {\n  return typeof Symbol != \"function\" || !Symbol.iterator ? \"@@iterator\" : Symbol.iterator;\n}\n\nvar Ce = qe();\n\nfunction _e(o) {\n  return f(o == null ? void 0 : o[Ce]);\n}\n\nfunction De(o) {\n  return he(this, arguments, function () {\n    var e, r, i, n;\n    return at(this, function (s) {\n      switch (s.label) {\n        case 0:\n          e = o.getReader(), s.label = 1;\n\n        case 1:\n          s.trys.push([1,, 9, 10]), s.label = 2;\n\n        case 2:\n          return [4, ht(e.read())];\n\n        case 3:\n          return r = s.sent(), i = r.value, n = r.done, n ? [4, ht(void 0)] : [3, 5];\n\n        case 4:\n          return [2, s.sent()];\n\n        case 5:\n          return [4, ht(i)];\n\n        case 6:\n          return [4, s.sent()];\n\n        case 7:\n          return s.sent(), [3, 2];\n\n        case 8:\n          return [3, 10];\n\n        case 9:\n          return e.releaseLock(), [7];\n\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Oe(o) {\n  return f(o == null ? void 0 : o.getReader);\n}\n\nfunction Ee(o) {\n  if (o instanceof b) return o;\n\n  if (o != null) {\n    if (Te(o)) return Ze(o);\n    if (pe(o)) return Qe(o);\n    if (ce(o)) return Je(o);\n    if (Pe(o)) return we(o);\n    if (_e(o)) return tr(o);\n    if (Oe(o)) return er(o);\n  }\n\n  throw Se(o);\n}\n\nfunction Ze(o) {\n  return new b(function (t) {\n    var e = o[$]();\n    if (f(e.subscribe)) return e.subscribe(t);\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\n  });\n}\n\nfunction Qe(o) {\n  return new b(function (t) {\n    for (var e = 0; e < o.length && !t.closed; e++) t.next(o[e]);\n\n    t.complete();\n  });\n}\n\nfunction Je(o) {\n  return new b(function (t) {\n    o.then(function (e) {\n      t.closed || (t.next(e), t.complete());\n    }, function (e) {\n      return t.error(e);\n    }).then(null, ut);\n  });\n}\n\nfunction tr(o) {\n  return new b(function (t) {\n    var e, r;\n\n    try {\n      for (var i = M(o), n = i.next(); !n.done; n = i.next()) {\n        var s = n.value;\n        if (t.next(s), t.closed) return;\n      }\n    } catch (h) {\n      e = {\n        error: h\n      };\n    } finally {\n      try {\n        n && !n.done && (r = i.return) && r.call(i);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n\n    t.complete();\n  });\n}\n\nfunction we(o) {\n  return new b(function (t) {\n    rr(o, t).catch(function (e) {\n      return t.error(e);\n    });\n  });\n}\n\nfunction er(o) {\n  return we(De(o));\n}\n\nfunction rr(o, t) {\n  var e, r, i, n;\n  return ae(this, void 0, void 0, function () {\n    var s, h;\n    return at(this, function (a) {\n      switch (a.label) {\n        case 0:\n          a.trys.push([0, 5, 6, 11]), e = le(o), a.label = 1;\n\n        case 1:\n          return [4, e.next()];\n\n        case 2:\n          if (r = a.sent(), !!r.done) return [3, 4];\n          if (s = r.value, t.next(s), t.closed) return [2];\n          a.label = 3;\n\n        case 3:\n          return [3, 1];\n\n        case 4:\n          return [3, 11];\n\n        case 5:\n          return h = a.sent(), i = {\n            error: h\n          }, [3, 11];\n\n        case 6:\n          return a.trys.push([6,, 9, 10]), r && !r.done && (n = e.return) ? [4, n.call(e)] : [3, 8];\n\n        case 7:\n          a.sent(), a.label = 8;\n\n        case 8:\n          return [3, 10];\n\n        case 9:\n          if (i) throw i.error;\n          return [7];\n\n        case 10:\n          return [7];\n\n        case 11:\n          return t.complete(), [2];\n      }\n    });\n  });\n}\n\nvar w = function (o) {\n  E(t, o);\n\n  function t(e, r, i, n, s) {\n    var h = o.call(this, e) || this;\n    return h.onFinalize = s, h._next = r ? function (a) {\n      try {\n        r(a);\n      } catch (p) {\n        e.error(p);\n      }\n    } : o.prototype._next, h._error = n ? function (a) {\n      try {\n        n(a);\n      } catch (p) {\n        e.error(p);\n      } finally {\n        this.unsubscribe();\n      }\n    } : o.prototype._error, h._complete = i ? function () {\n      try {\n        i();\n      } catch (a) {\n        e.error(a);\n      } finally {\n        this.unsubscribe();\n      }\n    } : o.prototype._complete, h;\n  }\n\n  return t.prototype.unsubscribe = function () {\n    var e,\n        r = this.closed;\n    o.prototype.unsubscribe.call(this), !r && ((e = this.onFinalize) === null || e === void 0 || e.call(this));\n  }, t;\n}(q);\n\nfunction Ct(o, t) {\n  return O(function (e, r) {\n    var i = 0;\n    e.subscribe(new w(r, function (n) {\n      r.next(o.call(t, n, i++));\n    }));\n  });\n}\n\nvar Le = lt(function (o) {\n  return function () {\n    o(this), this.name = \"ObjectUnsubscribedError\", this.message = \"object unsubscribed\";\n  };\n});\n\nvar g = function (o) {\n  E(t, o);\n\n  function t() {\n    var e = o.call(this) || this;\n    return e.closed = !1, e.observers = [], e.isStopped = !1, e.hasError = !1, e.thrownError = null, e;\n  }\n\n  return t.prototype.lift = function (e) {\n    var r = new Re(this, this);\n    return r.operator = e, r;\n  }, t.prototype._throwIfClosed = function () {\n    if (this.closed) throw new Le();\n  }, t.prototype.next = function (e) {\n    var r = this;\n    V(function () {\n      var i, n;\n\n      if (r._throwIfClosed(), !r.isStopped) {\n        var s = r.observers.slice();\n\n        try {\n          for (var h = M(s), a = h.next(); !a.done; a = h.next()) {\n            var p = a.value;\n            p.next(e);\n          }\n        } catch (u) {\n          i = {\n            error: u\n          };\n        } finally {\n          try {\n            a && !a.done && (n = h.return) && n.call(h);\n          } finally {\n            if (i) throw i.error;\n          }\n        }\n      }\n    });\n  }, t.prototype.error = function (e) {\n    var r = this;\n    V(function () {\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.hasError = r.isStopped = !0, r.thrownError = e;\n\n        for (var i = r.observers; i.length;) i.shift().error(e);\n      }\n    });\n  }, t.prototype.complete = function () {\n    var e = this;\n    V(function () {\n      if (e._throwIfClosed(), !e.isStopped) {\n        e.isStopped = !0;\n\n        for (var r = e.observers; r.length;) r.shift().complete();\n      }\n    });\n  }, t.prototype.unsubscribe = function () {\n    this.isStopped = this.closed = !0, this.observers = null;\n  }, Object.defineProperty(t.prototype, \"observed\", {\n    get: function () {\n      var e;\n      return ((e = this.observers) === null || e === void 0 ? void 0 : e.length) > 0;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._trySubscribe = function (e) {\n    return this._throwIfClosed(), o.prototype._trySubscribe.call(this, e);\n  }, t.prototype._subscribe = function (e) {\n    return this._throwIfClosed(), this._checkFinalizedStatuses(e), this._innerSubscribe(e);\n  }, t.prototype._innerSubscribe = function (e) {\n    var r = this,\n        i = r.hasError,\n        n = r.isStopped,\n        s = r.observers;\n    return i || n ? xt : (s.push(e), new H(function () {\n      return K(s, e);\n    }));\n  }, t.prototype._checkFinalizedStatuses = function (e) {\n    var r = this,\n        i = r.hasError,\n        n = r.thrownError,\n        s = r.isStopped;\n    i ? e.error(n) : s && e.complete();\n  }, t.prototype.asObservable = function () {\n    var e = new b();\n    return e.source = this, e;\n  }, t.create = function (e, r) {\n    return new Re(e, r);\n  }, t;\n}(b);\n\nvar Re = function (o) {\n  E(t, o);\n\n  function t(e, r) {\n    var i = o.call(this) || this;\n    return i.destination = e, i.source = r, i;\n  }\n\n  return t.prototype.next = function (e) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.next) === null || i === void 0 || i.call(r, e);\n  }, t.prototype.error = function (e) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.error) === null || i === void 0 || i.call(r, e);\n  }, t.prototype.complete = function () {\n    var e, r;\n    (r = (e = this.destination) === null || e === void 0 ? void 0 : e.complete) === null || r === void 0 || r.call(e);\n  }, t.prototype._subscribe = function (e) {\n    var r, i;\n    return (i = (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(e)) !== null && i !== void 0 ? i : xt;\n  }, t;\n}(g);\n\nvar Me = new b(function (o) {\n  return o.complete();\n});\n\nfunction z(o) {\n  return o <= 0 ? function () {\n    return Me;\n  } : O(function (t, e) {\n    var r = 0;\n    t.subscribe(new w(e, function (i) {\n      ++r <= o && (e.next(i), o <= r && e.complete());\n    }));\n  });\n}\n\nfunction C(o, t) {\n  return O(function (e, r) {\n    var i = 0;\n    e.subscribe(new w(r, function (n) {\n      return o.call(t, n, i++) && r.next(n);\n    }));\n  });\n}\n\nfunction N(o) {\n  return O(function (t, e) {\n    Ee(o).subscribe(new w(e, function () {\n      return e.complete();\n    }, k)), !e.closed && t.subscribe(e);\n  });\n}\n\nvar l = class {\n  static get ZERO() {\n    return new l(0, 0);\n  }\n\n  static get ONE() {\n    return new l(1, 1);\n  }\n\n  static get UP() {\n    return new l(0, -1);\n  }\n\n  static get DOWN() {\n    return new l(0, 1);\n  }\n\n  static get LEFT() {\n    return new l(-1, 0);\n  }\n\n  static get RIGHT() {\n    return new l(1, 0);\n  }\n\n  static get UP_LEFT() {\n    return new l(-1, -1);\n  }\n\n  static get UP_RIGHT() {\n    return new l(1, -1);\n  }\n\n  static get DOWN_RIGHT() {\n    return new l(1, 1);\n  }\n\n  static get DOWN_LEFT() {\n    return new l(-1, 1);\n  }\n\n  constructor(t, e) {\n    typeof t == \"number\" ? (this.x = t, this.y = e || 0) : (this.x = t.x, this.y = t.y);\n  }\n\n  clone() {\n    return new l(this.x, this.y);\n  }\n\n  add(t) {\n    return new l(this.x + t.x, this.y + t.y);\n  }\n\n  multiply(t) {\n    return new l(this.x * t.x, this.y * t.y);\n  }\n\n  divide(t) {\n    return new l(this.x / t.x, this.y / t.y);\n  }\n\n  subtract(t) {\n    return new l(this.x - t.x, this.y - t.y);\n  }\n\n  equals(t) {\n    return this.x === t.x && this.y === t.y;\n  }\n\n  abs() {\n    return new l(Math.abs(this.x), Math.abs(this.y));\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  modulo(t) {\n    return new l(this.x % t.x, this.y % t.y);\n  }\n\n  scalarModulo(t) {\n    return new l(this.x % t, this.y % t);\n  }\n\n  scalarMult(t) {\n    return new l(this.x * t, this.y * t);\n  }\n\n  toString() {\n    return `${this.x}#${this.y}`;\n  }\n\n};\n\nvar _ = (p => (p.NONE = \"none\", p.LEFT = \"left\", p.UP_LEFT = \"up-left\", p.UP = \"up\", p.UP_RIGHT = \"up-right\", p.RIGHT = \"right\", p.DOWN_RIGHT = \"down-right\", p.DOWN = \"down\", p.DOWN_LEFT = \"down-left\", p))(_ || {});\n\nfunction _t(o) {\n  return [\"down-left\", \"down-right\", \"up-right\", \"up-left\"].includes(o);\n}\n\nfunction Fe(o) {\n  return {\n    [\"left\"]: \"down-left\",\n    [\"up-left\"]: \"left\",\n    [\"up\"]: \"up-left\",\n    [\"up-right\"]: \"up\",\n    [\"right\"]: \"up-right\",\n    [\"down-right\"]: \"right\",\n    [\"down\"]: \"down-right\",\n    [\"down-left\"]: \"down\",\n    [\"none\"]: \"none\"\n  }[o];\n}\n\nfunction L(o) {\n  return {\n    [\"up\"]: l.UP,\n    [\"down\"]: l.DOWN,\n    [\"left\"]: l.LEFT,\n    [\"right\"]: l.RIGHT,\n    [\"none\"]: l.ZERO,\n    [\"up-left\"]: l.UP_LEFT,\n    [\"up-right\"]: l.UP_RIGHT,\n    [\"down-right\"]: l.DOWN_RIGHT,\n    [\"down-left\"]: l.DOWN_LEFT\n  }[o];\n}\n\nfunction Ie(o) {\n  return {\n    [\"up\"]: \"down\",\n    [\"down\"]: \"up\",\n    [\"left\"]: \"right\",\n    [\"right\"]: \"left\",\n    [\"none\"]: \"none\",\n    [\"up-left\"]: \"down-right\",\n    [\"up-right\"]: \"down-left\",\n    [\"down-right\"]: \"up-left\",\n    [\"down-left\"]: \"up-right\"\n  }[o];\n}\n\nvar G = (e => (e[e.FOUR = 4] = \"FOUR\", e[e.EIGHT = 8] = \"EIGHT\", e))(G || {});\n\nvar Y = (r => (r.STOP = \"STOP\", r.CLOSEST_REACHABLE = \"CLOSEST_REACHABLE\", r.RETRY = \"RETRY\", r))(Y || {});\n\nvar x = class {\n  static vec2str(t) {\n    return `${t.x}#${t.y}`;\n  }\n\n  static equal(t, e) {\n    return x.vec2str(t) == x.vec2str(e);\n  }\n\n  static manhattanDistance(t, e) {\n    let r = Math.abs(t.x - e.x),\n        i = Math.abs(t.y - e.y);\n    return r + i;\n  }\n\n  static chebyshevDistance(t, e) {\n    let r = Math.abs(t.x - e.x),\n        i = Math.abs(t.y - e.y);\n    return Math.max(r, i);\n  }\n\n  static scalarMult(t, e) {\n    return t.clone().multiply(new l(e, e));\n  }\n\n};\nvar Dt = class {\n  distance(t, e) {\n    return x.manhattanDistance(t, e);\n  }\n\n  direction(t, e) {\n    if (x.equal(t, e)) return \"none\";\n    let r = t.clone().subtract(e);\n    return Math.abs(r.x) > Math.abs(r.y) ? r.x > 0 ? \"left\" : \"right\" : r.y > 0 ? \"up\" : \"down\";\n  }\n\n  neighbours(t) {\n    return [new l(t.x, t.y + 1), new l(t.x + 1, t.y), new l(t.x - 1, t.y), new l(t.x, t.y - 1)];\n  }\n\n  getDirections() {\n    return [\"up\", \"right\", \"down\", \"left\"];\n  }\n\n};\nvar Ot = class {\n  distance(t, e) {\n    return x.chebyshevDistance(t, e);\n  }\n\n  neighbours(t) {\n    let e = [new l(t.x, t.y + 1), new l(t.x + 1, t.y), new l(t.x - 1, t.y), new l(t.x, t.y - 1)],\n        r = [new l(t.x + 1, t.y + 1), new l(t.x + 1, t.y - 1), new l(t.x - 1, t.y + 1), new l(t.x - 1, t.y - 1)];\n    return [...e, ...r];\n  }\n\n  direction(t, e) {\n    return e.x > t.x ? e.y > t.y ? \"down-right\" : e.y < t.y ? \"up-right\" : \"right\" : e.x < t.x ? e.y > t.y ? \"down-left\" : e.y < t.y ? \"up-left\" : \"left\" : e.y < t.y ? \"up\" : e.y > t.y ? \"down\" : \"none\";\n  }\n\n  getDirections() {\n    return [\"up\", \"right\", \"down\", \"left\", \"down-left\", \"down-right\", \"up-right\", \"up-left\"];\n  }\n\n};\nvar Z = class {\n  static create(t) {\n    switch (t) {\n      case 4:\n        return new Dt();\n\n      case 8:\n        return new Ot();\n    }\n  }\n\n};\nvar Et = class {\n  getShortestPath(t, e, r) {\n    let i = this.shortestPathBfs(t, e, r);\n    return {\n      path: this.returnPath(i.previous, t, e),\n      closestToTarget: i.closestToTarget\n    };\n  }\n\n  distance(t, e) {\n    return x.manhattanDistance(t.position, e.position);\n  }\n\n  pos2Str(t) {\n    return `${t.position.toString()}#${t.layer}`;\n  }\n\n  equal(t, e) {\n    return x.equal(t.position, e.position) ? t.layer === e.layer : !1;\n  }\n\n  shortestPathBfs(t, e, r) {\n    let i = new Map(),\n        n = new Set(),\n        s = [],\n        h = t,\n        a = this.distance(t, e);\n\n    for (s.push({\n      node: t,\n      dist: 0\n    }), n.add(this.pos2Str(t)); s.length > 0;) {\n      let {\n        node: p,\n        dist: u\n      } = s.shift(),\n          y = this.distance(p, e);\n      if (y < a && (a = y, h = p), this.equal(p, e)) return {\n        shortestDistance: u,\n        previous: i,\n        closestToTarget: h\n      };\n\n      for (let c of r(p)) n.has(this.pos2Str(c)) || (i.set(this.pos2Str(c), p), s.push({\n        node: c,\n        dist: u + 1\n      }), n.add(this.pos2Str(c)));\n    }\n\n    return {\n      shortestDistance: -1,\n      previous: i,\n      closestToTarget: h\n    };\n  }\n\n  returnPath(t, e, r) {\n    let i = [],\n        n = r;\n\n    for (i.push(n); !this.equal(n, e);) {\n      if (n = t.get(this.pos2Str(n)), !n) return [];\n      i.push(n);\n    }\n\n    return i.reverse();\n  }\n\n};\nvar mt = class {\n  constructor(t, e, r) {\n    this.backoffMs = t;\n    this.maxRetries = e;\n    this.onFinished = r;\n    this.retries = 0;\n    this.elapsed = 0;\n  }\n\n  retry(t, e) {\n    this.shouldRetry() ? (this.elapsed += t, this.elapsed >= this.backoffMs && (this.elapsed = 0, this.retries++, e())) : this.onFinished();\n  }\n\n  reset() {\n    this.retries = 0, this.elapsed = 0;\n  }\n\n  getMaxRetries() {\n    return this.maxRetries;\n  }\n\n  shouldRetry() {\n    return this.maxRetries === -1 || this.retries < this.maxRetries;\n  }\n\n};\n\nvar Q = (r => (r.WAIT = \"WAIT\", r.RETRY = \"RETRY\", r.STOP = \"STOP\", r))(Q || {});\n\nvar wt = (h => (h.SUCCESS = \"SUCCESS\", h.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED = \"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\", h.PATH_BLOCKED_MAX_RETRIES_EXCEEDED = \"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\", h.PATH_BLOCKED = \"PATH_BLOCKED\", h.NO_PATH_FOUND = \"NO_PATH_FOUND\", h.PATH_BLOCKED_WAIT_TIMEOUT = \"PATH_BLOCKED_WAIT_TIMEOUT\", h.MOVEMENT_TERMINATED = \"MOVEMENT_TERMINATED\", h))(wt || {}),\n    J = class {\n  constructor(t, e, r) {\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 4;\n    let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    let s = arguments.length > 5 ? arguments[5] : undefined;\n    this.character = t;\n    this.tilemap = e;\n    this.targetPos = r;\n    this.distance = n;\n    this.posOnPath = 0;\n    this.stopped = !1;\n\n    this.getNeighbours = t => this.distanceUtils.neighbours(t.position).filter(i => !this.isBlocking(i, t.layer)).map(i => {\n      let n = this.tilemap.getTransition(i, t.layer);\n      return {\n        position: i,\n        layer: n || t.layer\n      };\n    });\n\n    this.isBlocking = (t, e) => {\n      var r;\n      return !t || !this.tilemap.isInRange(t) ? !0 : (r = this.character) != null && r.collidesWithTiles() ? this.tilemap.isBlocking(e, t, this.character.getCollisionGroups()) : this.tilemap.hasBlockingChar(t, e, this.character.getCollisionGroups());\n    };\n\n    this.noPathFoundStrategy = (s == null ? void 0 : s.noPathFoundStrategy) || \"STOP\", this.pathBlockedStrategy = (s == null ? void 0 : s.pathBlockedStrategy) || \"WAIT\", this.noPathFoundRetryable = new mt((s == null ? void 0 : s.noPathFoundRetryBackoffMs) || 200, (s == null ? void 0 : s.noPathFoundMaxRetries) || -1, () => {\n      this.stop(\"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\");\n    }), this.pathBlockedRetryable = new mt((s == null ? void 0 : s.pathBlockedRetryBackoffMs) || 200, (s == null ? void 0 : s.pathBlockedMaxRetries) || -1, () => {\n      this.stop(\"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\");\n    }), this.distanceUtils = Z.create(i), this.pathBlockedWaitTimeoutMs = (s == null ? void 0 : s.pathBlockedWaitTimeoutMs) || -1, this.finished$ = new g(), this.setCharacter(t);\n  }\n\n  setPathBlockedStrategy(t) {\n    this.pathBlockedStrategy = t;\n  }\n\n  getPathBlockedStrategy() {\n    return this.pathBlockedStrategy;\n  }\n\n  setCharacter(t) {\n    this.character = t, this.noPathFoundRetryable.reset(), this.pathBlockedRetryable.reset(), this.pathBlockedWaitElapsed = 0, this.calcShortestPath(), this.character.autoMovementSet().pipe(z(1), C(e => e !== this)).subscribe(() => {\n      this.stop(\"MOVEMENT_TERMINATED\");\n    });\n  }\n\n  update(t) {\n    var e, r, i, n;\n    this.stopped || (this.noPathFound() && (this.noPathFoundStrategy === \"RETRY\" ? this.noPathFoundRetryable.retry(t, () => this.calcShortestPath()) : this.noPathFoundStrategy === \"STOP\" && this.stop(\"NO_PATH_FOUND\")), this.updatePosOnPath(), this.isBlocking((e = this.nextTileOnPath()) == null ? void 0 : e.position, (r = this.character) == null ? void 0 : r.getNextTilePos().layer) ? this.applyPathBlockedStrategy(t) : this.pathBlockedWaitElapsed = 0, this.hasArrived() ? (this.stop(\"SUCCESS\"), this.existsDistToTarget() && this.turnTowardsTarget()) : this.isBlocking((i = this.nextTileOnPath()) == null ? void 0 : i.position, (n = this.character) == null ? void 0 : n.getNextTilePos().layer) || this.moveCharOnPath());\n  }\n\n  finishedObs() {\n    return this.finished$;\n  }\n\n  resultToReason(t) {\n    switch (t) {\n      case \"SUCCESS\":\n        return \"Successfully arrived.\";\n\n      case \"MOVEMENT_TERMINATED\":\n        return \"Movement of character has been replaced before destination was reached.\";\n\n      case \"PATH_BLOCKED\":\n        return \"PathBlockedStrategy STOP: Path blocked.\";\n\n      case \"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\":\n        return `NoPathFoundStrategy RETRY: Maximum retries of ${this.noPathFoundRetryable.getMaxRetries()} exceeded.`;\n\n      case \"NO_PATH_FOUND\":\n        return \"NoPathFoundStrategy STOP: No path found.\";\n\n      case \"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\":\n        return `PathBlockedStrategy RETRY: Maximum retries of ${this.pathBlockedRetryable.getMaxRetries()} exceeded.`;\n\n      case \"PATH_BLOCKED_WAIT_TIMEOUT\":\n        return `PathBlockedStrategy WAIT: Wait timeout of ${this.pathBlockedWaitTimeoutMs}ms exceeded.`;\n    }\n  }\n\n  applyPathBlockedStrategy(t) {\n    this.pathBlockedStrategy === \"RETRY\" ? this.pathBlockedRetryable.retry(t, () => this.calcShortestPath()) : this.pathBlockedStrategy === \"STOP\" ? this.stop(\"PATH_BLOCKED\") : this.pathBlockedStrategy === \"WAIT\" && this.pathBlockedWaitTimeoutMs > -1 && (this.pathBlockedWaitElapsed += t, this.pathBlockedWaitElapsed >= this.pathBlockedWaitTimeoutMs && this.stop(\"PATH_BLOCKED_WAIT_TIMEOUT\"));\n  }\n\n  moveCharOnPath() {\n    let t = this.getDir(this.character.getNextTilePos().position, this.nextTileOnPath().position);\n    this.character.move(t);\n  }\n\n  nextTileOnPath() {\n    return this.shortestPath[this.posOnPath + 1];\n  }\n\n  stop(t) {\n    this.finished$.next({\n      position: this.character.getTilePos().position,\n      result: t,\n      description: this.resultToReason(t),\n      layer: this.character.getTilePos().layer\n    }), this.finished$.complete(), this.stopped = !0;\n  }\n\n  turnTowardsTarget() {\n    let t = this.shortestPath[this.posOnPath + 1],\n        e = this.getDir(this.character.getNextTilePos().position, t.position);\n    this.character.turnTowards(e);\n  }\n\n  existsDistToTarget() {\n    return this.posOnPath < this.shortestPath.length - 1;\n  }\n\n  hasArrived() {\n    return !this.noPathFound() && this.posOnPath + Math.max(0, this.distance - this.distOffset) >= this.shortestPath.length - 1;\n  }\n\n  updatePosOnPath() {\n    let t = this.shortestPath[this.posOnPath];\n\n    for (; this.posOnPath < this.shortestPath.length - 1 && (this.character.getNextTilePos().position.x != t.position.x || this.character.getNextTilePos().position.y != t.position.y);) this.posOnPath++, t = this.shortestPath[this.posOnPath];\n  }\n\n  noPathFound() {\n    return this.shortestPath.length === 0;\n  }\n\n  calcShortestPath() {\n    let t = this.getShortestPath();\n    this.posOnPath = 0, this.shortestPath = t.path, this.distOffset = t.distOffset;\n  }\n\n  getShortestPath() {\n    let t = new Et(),\n        {\n      path: e,\n      closestToTarget: r\n    } = t.getShortestPath(this.character.getNextTilePos(), this.targetPos, this.getNeighbours);\n\n    if (e.length == 0 && this.noPathFoundStrategy === \"CLOSEST_REACHABLE\") {\n      let n = t.getShortestPath(this.character.getNextTilePos(), r, this.getNeighbours).path,\n          s = this.distanceUtils.distance(r.position, this.targetPos.position);\n      return {\n        path: n,\n        distOffset: s\n      };\n    }\n\n    return {\n      path: e,\n      distOffset: 0\n    };\n  }\n\n  getDir(t, e) {\n    return this.distanceUtils.direction(t, e);\n  }\n\n};\n\nvar Lt = class {\n  constructor(t, e, r) {\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 4;\n    let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    let s = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"STOP\";\n    this.character = t;\n    this.gridTilemap = e;\n    this.charToFollow = r;\n    this.numberOfDirections = i;\n    this.distance = n;\n    this.noPathFoundStrategy = s;\n    this.character = t, this.updateTarget(this.charToFollow.getTilePos().position, this.charToFollow.getTilePos().layer), this.charToFollow.positionChangeStarted().pipe(N(this.character.autoMovementSet().pipe(C(h => h !== this)))).subscribe(_ref => {\n      let {\n        enterTile: h,\n        enterLayer: a\n      } = _ref;\n      this.updateTarget(h, a);\n    });\n  }\n\n  update(t) {\n    var e;\n    (e = this.targetMovement) == null || e.update(t);\n  }\n\n  updateTarget(t, e) {\n    this.targetMovement = new J(this.character, this.gridTilemap, {\n      position: new l(t),\n      layer: e\n    }, this.numberOfDirections, this.distance + 1, {\n      noPathFoundStrategy: this.noPathFoundStrategy\n    });\n  }\n\n};\nvar tt = class {\n  static copyOver(t, e) {\n    e.position.x = t.position.x, e.position.y = t.position.y, e.layer = t.layer;\n  }\n\n  static clone(t) {\n    return {\n      position: t.position.clone(),\n      layer: t.layer\n    };\n  }\n\n};\nvar X = class {\n  constructor(t, e, r) {\n    this.sprite = t;\n    this.walkingAnimationMapping = e;\n    this.characterIndex = r;\n    this.lastFootLeft = !1;\n    this.directionToFrameRow = {\n      [\"down\"]: 0,\n      [\"down-left\"]: 1,\n      [\"down-right\"]: 2,\n      [\"left\"]: 1,\n      [\"right\"]: 2,\n      [\"up\"]: 3,\n      [\"up-left\"]: 1,\n      [\"up-right\"]: 2\n    };\n    this._isEnabled = !0;\n  }\n\n  setIsEnabled(t) {\n    this._isEnabled = t;\n  }\n\n  isEnabled() {\n    return this._isEnabled;\n  }\n\n  updateCharacterFrame(t, e) {\n    this._isEnabled && (e ? this.setStandingFrameDuringWalk(t) : this.setWalkingFrame(t));\n  }\n\n  setStandingFrame(t) {\n    this._isEnabled && this._setStandingFrame(t);\n  }\n\n  setWalkingAnimationMapping(t) {\n    this.walkingAnimationMapping = t, this._isEnabled = this.walkingAnimationMapping !== void 0;\n  }\n\n  setCharacterIndex(t) {\n    this.characterIndex = t, this._isEnabled = this.characterIndex !== -1;\n  }\n\n  getWalkingAnimationMapping() {\n    return this.walkingAnimationMapping;\n  }\n\n  getCharacterIndex() {\n    return this.characterIndex;\n  }\n\n  setStandingFrameDuringWalk(t) {\n    this.isCurrentFrameStanding(t) || (this.lastFootLeft = !this.lastFootLeft), this._setStandingFrame(t);\n  }\n\n  setWalkingFrame(t) {\n    let e = this.framesOfDirection(t);\n    this.sprite.setFrame(this.lastFootLeft ? e.rightFoot : e.leftFoot);\n  }\n\n  _setStandingFrame(t) {\n    this.sprite.setFrame(this.framesOfDirection(t).standing);\n  }\n\n  isCurrentFrameStanding(t) {\n    return Number(this.sprite.frame.name) == this.framesOfDirection(t).standing;\n  }\n\n  framesOfDirection(t) {\n    return this.walkingAnimationMapping ? this.getFramesForAnimationMapping(t) : this.getFramesForCharIndex(t);\n  }\n\n  getFramesForAnimationMapping(t) {\n    return this.walkingAnimationMapping[t] || this.walkingAnimationMapping[this.fallbackDirection(t)];\n  }\n\n  fallbackDirection(t) {\n    switch (t) {\n      case \"down-left\":\n        return \"left\";\n\n      case \"down-right\":\n        return \"right\";\n\n      case \"up-left\":\n        return \"left\";\n\n      case \"up-right\":\n        return \"right\";\n    }\n\n    return t;\n  }\n\n  getFramesForCharIndex(t) {\n    let e = this.sprite.texture.source[0].width / this.sprite.width / X.FRAMES_CHAR_ROW,\n        r = Math.floor(this.characterIndex / e),\n        i = this.characterIndex % e,\n        n = e * X.FRAMES_CHAR_ROW,\n        s = X.FRAMES_CHAR_ROW * i,\n        h = this.directionToFrameRow[t] + r * X.FRAMES_CHAR_COL,\n        a = s + h * n;\n    return {\n      rightFoot: a,\n      standing: a + 1,\n      leftFoot: a + 2\n    };\n  }\n\n},\n    et = X;\net.FRAMES_CHAR_ROW = 3, et.FRAMES_CHAR_COL = 4;\nvar rt = class {\n  static shiftPad(t, e) {\n    let r = Math.floor(t),\n        n = `${r}`.padStart(e, \"0\").length;\n    return r / Math.pow(10, n);\n  }\n\n};\nvar Rt = class {\n  static copyOverImportantProperties(t, e) {\n    e.x = t.x, e.y = t.y, e.tint = t.tint, e.alpha = t.alpha, e.scale = t.scale, e.setFrame(t.frame.name), e.active = t.active, e.alphaBottomLeft = t.alphaBottomLeft, e.alphaBottomRight = t.alphaBottomRight, e.alphaTopLeft = t.alphaTopLeft, e.alphaTopRight = t.alphaTopRight, e.angle = t.angle;\n  }\n\n};\nvar Mt = class {\n  constructor(t, e) {\n    this.id = t;\n    this.movementDirection = \"none\";\n    this.tileSizePixelsWalked = l.ZERO;\n    this._nextTilePos = {\n      position: new l(0, 0),\n      layer: void 0\n    };\n    this._tilePos = {\n      position: new l(0, 0),\n      layer: void 0\n    };\n    this.movementStarted$ = new g();\n    this.movementStopped$ = new g();\n    this.directionChanged$ = new g();\n    this.positionChangeStarted$ = new g();\n    this.positionChangeFinished$ = new g();\n    this.tilePositionSet$ = new g();\n    this.autoMovementSet$ = new g();\n    this.lastMovementImpulse = \"none\";\n    this.facingDirection = \"down\";\n    this.characterIndex = -1;\n    typeof e.walkingAnimationMapping == \"number\" ? this.characterIndex = e.walkingAnimationMapping : this.walkingAnimationMapping = e.walkingAnimationMapping, this.container = e.container, this.tilemap = e.tilemap, this.speed = e.speed, this.collidesWithTilesInternal = e.collidesWithTiles, this.customOffset = new l(e.offsetX || 0, e.offsetY || 0), this._tilePos.layer = e.charLayer, this.sprite = e.sprite, this.layerOverlaySprite = e.layerOverlaySprite, this.collisionGroups = new Set(e.collisionGroups || []), this.layerOverlaySprite && this.initLayerOverlaySprite(), this._setSprite(this.sprite);\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  getSpeed() {\n    return this.speed;\n  }\n\n  setSpeed(t) {\n    this.speed = t;\n  }\n\n  getSprite() {\n    return this.sprite;\n  }\n\n  setSprite(t) {\n    this._setSprite(t);\n  }\n\n  setMovement(t) {\n    this.autoMovementSet$.next(t), this.movement = t;\n  }\n\n  getMovement() {\n    return this.movement;\n  }\n\n  collidesWithTiles() {\n    return this.collidesWithTilesInternal;\n  }\n\n  setWalkingAnimationMapping(t) {\n    typeof t == \"number\" ? this.animation.setCharacterIndex(t) : this.animation.setWalkingAnimationMapping(t);\n  }\n\n  setTilePosition(t) {\n    this.isMoving() && this.movementStopped$.next(this.movementDirection), this.tilePositionSet$.next(S({}, t)), this.nextTilePos = t, this.fire(this.positionChangeStarted$, this.tilePos, this.nextTilePos), this.fire(this.positionChangeFinished$, this.tilePos, this.nextTilePos), this.movementDirection = \"none\", this.lastMovementImpulse = \"none\", this.tilePos = t, this.setPosition(this.tilemap.tilePosToPixelPos(t.position).add(this.getOffset()).add(this.customOffset)), this.updateZindex();\n  }\n\n  getTilePos() {\n    return this.tilePos;\n  }\n\n  getNextTilePos() {\n    return this.nextTilePos;\n  }\n\n  move(t) {\n    this.lastMovementImpulse = t, t != \"none\" && (this.isMoving() || (this.isBlockingDirection(t) ? (this.facingDirection = t, this.animation.setStandingFrame(t), this.directionChanged$.next(t)) : this.startMoving(t)));\n  }\n\n  update(t) {\n    var e, r, i;\n    (e = this.movement) == null || e.update(t), this.isMoving() && (this.updateCharacterPosition(t), this.updateZindex()), this.lastMovementImpulse = \"none\", this.layerOverlaySprite && (Rt.copyOverImportantProperties(this.sprite, this.layerOverlaySprite), this.layerOverlaySprite.x = this.sprite.x + (((r = this.container) == null ? void 0 : r.x) || 0), this.layerOverlaySprite.y = this.sprite.y + (((i = this.container) == null ? void 0 : i.y) || 0));\n  }\n\n  getMovementDirection() {\n    return this.movementDirection;\n  }\n\n  isBlockingDirection(t) {\n    if (t == \"none\") return !1;\n    let e = this.tilePosInDirection(t),\n        r = this.tilemap.getTransition(e, this.nextTilePos.layer) || this.nextTilePos.layer;\n    return this.collidesWithTilesInternal && this.tilemap.hasBlockingTile(r, e, Ie(t)) ? !0 : this.tilemap.hasBlockingChar(e, r, this.getCollisionGroups());\n  }\n\n  isMoving() {\n    return this.movementDirection != \"none\";\n  }\n\n  turnTowards(t) {\n    this.isMoving() || t != \"none\" && (this.facingDirection = t, this.animation.setStandingFrame(t));\n  }\n\n  getFacingDirection() {\n    return this.facingDirection;\n  }\n\n  getFacingPosition() {\n    return this._tilePos.position.add(L(this.facingDirection));\n  }\n\n  addCollisionGroup(t) {\n    this.collisionGroups.add(t);\n  }\n\n  setCollisionGroups(t) {\n    this.collisionGroups = new Set(t);\n  }\n\n  getCollisionGroups() {\n    return Array.from(this.collisionGroups);\n  }\n\n  hasCollisionGroup(t) {\n    return this.collisionGroups.has(t);\n  }\n\n  removeCollisionGroup(t) {\n    this.collisionGroups.delete(t);\n  }\n\n  removeAllCollisionGroups() {\n    this.collisionGroups.clear();\n  }\n\n  movementStarted() {\n    return this.movementStarted$;\n  }\n\n  movementStopped() {\n    return this.movementStopped$;\n  }\n\n  directionChanged() {\n    return this.directionChanged$;\n  }\n\n  tilePositionSet() {\n    return this.tilePositionSet$;\n  }\n\n  positionChangeStarted() {\n    return this.positionChangeStarted$;\n  }\n\n  positionChangeFinished() {\n    return this.positionChangeFinished$;\n  }\n\n  autoMovementSet() {\n    return this.autoMovementSet$;\n  }\n\n  _setSprite(t) {\n    t.setOrigin(0, 0), t.x = this.sprite.x, t.y = this.sprite.y, this.sprite = t, this.animation = new et(this.sprite, this.walkingAnimationMapping, this.characterIndex), this.animation.setIsEnabled(this.walkingAnimationMapping !== void 0 || this.characterIndex !== -1), this.animation.setStandingFrame(\"down\"), this.updateZindex();\n  }\n\n  getOffset() {\n    let t = this.tilemap.getTileWidth() / 2 - Math.floor(this.sprite.displayWidth / 2),\n        e = -this.sprite.displayHeight + this.tilemap.getTileHeight();\n    return new l(t, e);\n  }\n\n  updateCharacterPosition(t) {\n    let e = this.getSpeedPerDelta(t),\n        r = this.getDistToNextTile(),\n        i = r.length() <= e.length(),\n        n = i ? r : e;\n    this.moveCharacterSprite(n), i && (this.shouldContinueMoving() ? (this.fire(this.positionChangeFinished$, this.tilePos, this.nextTilePos), this.startMoving(this.lastMovementImpulse), this.updateCharacterPosition(t * this.getProportionWalked(e, r))) : this.stopMoving());\n  }\n\n  speedPixelsPerSecond(t) {\n    return L(t).abs().multiply(this.tilemap.getTileDistance(t)).scalarMult(this.speed);\n  }\n\n  get nextTilePos() {\n    return {\n      position: this._nextTilePos.position.clone(),\n      layer: this._nextTilePos.layer\n    };\n  }\n\n  set nextTilePos(t) {\n    tt.copyOver(t, this._nextTilePos);\n  }\n\n  get tilePos() {\n    return tt.clone(this._tilePos);\n  }\n\n  set tilePos(t) {\n    tt.copyOver(t, this._tilePos);\n  }\n\n  gameObject() {\n    return this.container || this.sprite;\n  }\n\n  updateZindex() {\n    if (this.setDepth(this.gameObject(), this.nextTilePos), this.layerOverlaySprite) {\n      let t = new l(U(S({}, this.nextTilePos.position), {\n        y: this.nextTilePos.position.y - 1\n      }));\n      this.setDepth(this.layerOverlaySprite, {\n        position: t,\n        layer: this.nextTilePos.layer\n      });\n    }\n  }\n\n  setDepth(t, e) {\n    t.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(e)) + this.getPaddedPixelDepth());\n  }\n\n  getPaddedPixelDepth() {\n    return rt.shiftPad(this.gameObject().y + this.gameObject().displayHeight, 7);\n  }\n\n  getTransitionLayer(t) {\n    return this.tilemap.getTransition(t.position, t.layer) || t.layer;\n  }\n\n  setPosition(t) {\n    this.gameObject().x = t.x, this.gameObject().y = t.y;\n  }\n\n  getPosition() {\n    return new l(this.gameObject().x, this.gameObject().y);\n  }\n\n  startMoving(t) {\n    t !== \"none\" && (t != this.movementDirection && this.movementStarted$.next(t), this.movementDirection = t, this.facingDirection = t, this.updateTilePos());\n  }\n\n  updateTilePos() {\n    this.tilePos = this.nextTilePos;\n    let t = this.tilePosInDirection(this.movementDirection),\n        r = this.tilemap.getTransition(t, this.tilePos.layer) || this.tilePos.layer;\n    this.nextTilePos = {\n      position: t,\n      layer: r\n    }, this.fire(this.positionChangeStarted$, this.tilePos, this.nextTilePos);\n  }\n\n  tilePosInDirection(t) {\n    return this.nextTilePos.position.add(L(this.tilemap.toMapDirection(t)));\n  }\n\n  getDistToNextTile() {\n    return this.tilemap.getTileDistance(this.movementDirection).subtract(this.tileSizePixelsWalked).multiply(L(this.movementDirection));\n  }\n\n  getProportionWalked(t, e) {\n    let i = t.subtract(e).divide(t);\n    return isNaN(i.x) && (i.x = 0), Math.max(Math.abs(i.x), Math.abs(i.y));\n  }\n\n  shouldContinueMoving() {\n    return this.lastMovementImpulse !== \"none\" && !this.isBlockingDirection(this.lastMovementImpulse);\n  }\n\n  getSpeedPerDelta(t) {\n    let e = t / 1e3;\n    return this.speedPixelsPerSecond(this.movementDirection).scalarMult(e).multiply(L(this.movementDirection));\n  }\n\n  moveCharacterSprite(t) {\n    let e = this.getPosition().add(t);\n    this.setPosition(e), this.tileSizePixelsWalked = this.tileSizePixelsWalked.add(t.abs()), this.animation.updateCharacterFrame(this.movementDirection, this.hasWalkedHalfATile()), this.tileSizePixelsWalked = this.tileSizePixelsWalked.modulo(this.tilemap.getTileDistance(this.movementDirection));\n  }\n\n  stopMoving() {\n    if (this.movementDirection === \"none\") return;\n    let t = this.tilePos,\n        e = this.nextTilePos,\n        r = this.movementDirection;\n    this.tilePos = this.nextTilePos, this.movementDirection = \"none\", this.movementStopped$.next(r), this.fire(this.positionChangeFinished$, t, e);\n  }\n\n  hasWalkedHalfATile() {\n    return this.tileSizePixelsWalked.x > this.tilemap.getTileDistance(this.movementDirection).x / 2 || this.tileSizePixelsWalked.y > this.tilemap.getTileDistance(this.movementDirection).y / 2;\n  }\n\n  fire(t, _ref2, _ref3) {\n    let {\n      position: e,\n      layer: r\n    } = _ref2;\n    let {\n      position: i,\n      layer: n\n    } = _ref3;\n    t.next({\n      exitTile: e,\n      enterTile: i,\n      exitLayer: r,\n      enterLayer: n\n    });\n  }\n\n  initLayerOverlaySprite() {\n    this.layerOverlaySprite.scale = this.sprite.scale;\n    let t = this.tilemap.getTileHeight() / this.layerOverlaySprite.scale;\n    this.layerOverlaySprite.setCrop(0, 0, this.layerOverlaySprite.displayWidth, this.sprite.height - t), this.layerOverlaySprite.setOrigin(0, 0);\n  }\n\n};\nvar Ft = class {\n  constructor() {\n    this.tilePosToCharacters = new Map();\n    this.positionChangeStartedSubs = new Map();\n    this.tilePosSetSubs = new Map();\n    this.positionChangeFinishedSubs = new Map();\n  }\n\n  isCharBlockingAt(t, e, r) {\n    let i = this.posToString(t, e);\n    return this.tilePosToCharacters.has(i) && this.tilePosToCharacters.get(i).size > 0 && [...this.tilePosToCharacters.get(i)].some(n => n.getCollisionGroups().some(s => r.includes(s)));\n  }\n\n  addCharacter(t) {\n    this.add(this.posToString(t.getTilePos().position, t.getTilePos().layer), t), this.add(this.posToString(t.getNextTilePos().position, t.getNextTilePos().layer), t), this.addPositionChangeSub(t), this.addPositionChangeFinishedSub(t), this.addTilePosSetSub(t);\n  }\n\n  removeCharacter(t) {\n    let e = t.getId();\n    this.positionChangeStartedSubs.get(e).unsubscribe(), this.positionChangeFinishedSubs.get(e).unsubscribe(), this.tilePosSetSubs.get(e).unsubscribe(), this.tilePosToCharacters.get(this.posToString(t.getTilePos().position, t.getTilePos().layer)).delete(t), this.tilePosToCharacters.get(this.posToString(t.getNextTilePos().position, t.getNextTilePos().layer)).delete(t);\n  }\n\n  add(t, e) {\n    this.tilePosToCharacters.has(t) || this.tilePosToCharacters.set(t, new Set()), this.tilePosToCharacters.get(t).add(e);\n  }\n\n  addTilePosSetSub(t) {\n    let e = t.tilePositionSet().subscribe(r => {\n      this.tilePosToCharacters.get(this.posToString(t.getNextTilePos().position, t.getNextTilePos().layer)).delete(t);\n    });\n    this.tilePosSetSubs.set(t.getId(), e);\n  }\n\n  addPositionChangeSub(t) {\n    let e = t.positionChangeStarted().subscribe(r => {\n      v.get().characterCollisionStrategy === \"BLOCK_ONE_TILE_AHEAD\" && this.tilePosToCharacters.get(this.posToString(r.exitTile, r.exitLayer)).delete(t), this.add(this.posToString(r.enterTile, r.enterLayer), t);\n    });\n    this.positionChangeStartedSubs.set(t.getId(), e);\n  }\n\n  addPositionChangeFinishedSub(t) {\n    let e = t.positionChangeFinished().subscribe(r => {\n      this.tilePosToCharacters.get(this.posToString(r.exitTile, r.exitLayer)).delete(t);\n    });\n    this.positionChangeFinishedSubs.set(t.getId(), e);\n  }\n\n  posToString(t, e) {\n    return `${t.x}#${t.y}#${e}`;\n  }\n\n};\nvar It = class {\n  constructor(t, e, r, i) {\n    this.x = t;\n    this.y = e;\n    this.width = r;\n    this.height = i;\n  }\n\n  getX() {\n    return this.x;\n  }\n\n  getY() {\n    return this.y;\n  }\n\n  getWidth() {\n    return this.width;\n  }\n\n  getHeight() {\n    return this.height;\n  }\n\n  isInRange(t) {\n    return t.x >= this.x && t.x < this.x + this.width && t.y >= this.y && t.y < this.y + this.height;\n  }\n\n};\nvar T = class {\n  constructor(t) {\n    this.tilemap = t;\n    this.characters = new Map();\n    this.charBlockCache = new Ft();\n    this.charLayerDepths = new Map();\n    this.transitions = new Map();\n    this.setLayerDepths();\n  }\n\n  addCharacter(t) {\n    this.characters.set(t.getId(), t), t.getNextTilePos().layer === void 0 && t.setTilePosition(U(S({}, t.getNextTilePos()), {\n      layer: this.getLowestCharLayer()\n    })), this.charBlockCache.addCharacter(t);\n  }\n\n  removeCharacter(t) {\n    this.charBlockCache.removeCharacter(this.characters.get(t)), this.characters.delete(t);\n  }\n\n  getCharacters() {\n    return [...this.characters.values()];\n  }\n\n  isBlocking(t, e, r, i) {\n    return this.hasNoTile(e, t) || this.hasBlockingTile(t, e, i) || this.hasBlockingChar(e, t, r);\n  }\n\n  hasBlockingTile(t, e, r) {\n    return this.hasNoTile(e, t) ? !0 : this.getCollisionRelevantLayers(t).some(i => this.isLayerBlockingAt(i, e, r));\n  }\n\n  getTransition(t, e) {\n    let r = this.transitions.get(t.toString());\n    if (r) return r.get(e);\n  }\n\n  setTransition(t, e, r) {\n    this.transitions.has(t.toString()) || this.transitions.set(t.toString(), new Map()), this.transitions.get(t.toString()).set(e, r);\n  }\n\n  getTransitions() {\n    return new Map([...this.transitions].map(_ref4 => {\n      let [t, e] = _ref4;\n      return [t, new Map(e)];\n    }));\n  }\n\n  hasNoTile(t, e) {\n    return !this.getCollisionRelevantLayers(e).some(r => this.tilemap.hasTileAt(t.x, t.y, r.name));\n  }\n\n  hasBlockingChar(t, e, r) {\n    return this.charBlockCache.isCharBlockingAt(t, e, r);\n  }\n\n  getTileWidth() {\n    let t = this.tilemap.layers[0].tilemapLayer.scale;\n    return this.tilemap.tileWidth * t;\n  }\n\n  getTileHeight() {\n    let t = this.tilemap.layers[0].tilemapLayer.scale;\n    return this.tilemap.tileHeight * t;\n  }\n\n  getDepthOfCharLayer(t) {\n    return this.charLayerDepths.get(t) || 0;\n  }\n\n  isInRange(t) {\n    return new It(0, 0, this.tilemap.width, this.tilemap.height).isInRange(t);\n  }\n\n  getTileSize() {\n    return new l(this.getTileWidth(), this.getTileHeight());\n  }\n\n  tilePosToPixelPos(t) {\n    return this.isIsometric() ? x.scalarMult(this.getTileSize(), .5).multiply(new l(t.x - t.y, t.x + t.y)) : t.clone().multiply(this.getTileSize());\n  }\n\n  getTileDistance(t) {\n    if (this.isIsometric()) switch (t) {\n      case \"down-left\":\n      case \"down-right\":\n      case \"up-left\":\n      case \"up-right\":\n        return x.scalarMult(this.getTileSize(), .5);\n\n      default:\n        return this.getTileSize();\n    }\n    return this.getTileSize();\n  }\n\n  toMapDirection(t) {\n    return this.isIsometric() ? Fe(t) : t;\n  }\n\n  isIsometric() {\n    return this.tilemap.orientation == Phaser.Tilemaps.Orientation.ISOMETRIC.toString();\n  }\n\n  isLayerBlockingAt(t, e, r) {\n    let i = T.ONE_WAY_COLLIDE_PROP_PREFIX + r,\n        n = this.tilemap.getTileAt(e.x, e.y, !1, t.name);\n    return Boolean((n == null ? void 0 : n.properties) && (n.properties[v.get().collisionTilePropertyName] || n.properties[i]));\n  }\n\n  getCharLayerIndexes() {\n    return this.tilemap.layers.map((t, e) => ({\n      layer: t,\n      index: e\n    })).filter(_ref5 => {\n      let {\n        layer: t\n      } = _ref5;\n      return this.isCharLayer(t);\n    }).map(_ref6 => {\n      let {\n        index: t\n      } = _ref6;\n      return t;\n    });\n  }\n\n  findPrevAndCharLayer(t) {\n    let e = this.getCharLayerIndexes(),\n        r = e.findIndex(i => this.getLayerProp(this.tilemap.layers[i], T.CHAR_LAYER_PROP_NAME) == t);\n    return r == 0 ? {\n      prevIndex: -1,\n      charLayerIndex: e[r]\n    } : {\n      prevIndex: e[r - 1],\n      charLayerIndex: e[r]\n    };\n  }\n\n  getCollisionRelevantLayers(t) {\n    if (!t) return this.tilemap.layers;\n    let {\n      prevIndex: e,\n      charLayerIndex: r\n    } = this.findPrevAndCharLayer(t);\n    return this.tilemap.layers.slice(e + 1, r + 1);\n  }\n\n  getLowestCharLayer() {\n    let t = this.tilemap.layers.find(e => this.hasLayerProp(e, T.CHAR_LAYER_PROP_NAME));\n    if (t) return this.getLayerProp(t, T.CHAR_LAYER_PROP_NAME);\n  }\n\n  getLayerProp(t, e) {\n    let i = t.properties.find(n => n.name == e);\n    return i == null ? void 0 : i.value;\n  }\n\n  hasLayerProp(t, e) {\n    return this.getLayerProp(t, e) != null;\n  }\n\n  isLayerAlwaysOnTop(t) {\n    return this.hasLayerProp(t, T.ALWAYS_TOP_PROP_NAME);\n  }\n\n  isCharLayer(t) {\n    return this.hasLayerProp(t, T.CHAR_LAYER_PROP_NAME);\n  }\n\n  setLayerDepths() {\n    let t = [],\n        e = -1,\n        r = this.tilemap.layers.filter(n => this.isLayerAlwaysOnTop(n)),\n        i = this.tilemap.layers.filter(n => !this.isLayerAlwaysOnTop(n));\n    i.forEach(n => {\n      this.hasLayerProp(n, T.HEIGHT_SHIFT_PROP_NAME) ? (this.createHeightShiftLayers(n, e), t.push(n.tilemapLayer)) : this.setDepth(n, ++e);\n    }), i.forEach(n => {\n      this.isCharLayer(n) || this.charLayerDepths.set(void 0, e);\n    }), r.forEach((n, s) => {\n      n.tilemapLayer.setDepth(s + 1 + e);\n    }), t.forEach(n => n.destroy());\n  }\n\n  setDepth(t, e) {\n    t.tilemapLayer.setDepth(e), this.isCharLayer(t) && this.charLayerDepths.set(this.getLayerProp(t, T.CHAR_LAYER_PROP_NAME), e);\n  }\n\n  createHeightShiftLayers(t, e) {\n    let r = this.getLayerProp(t, T.HEIGHT_SHIFT_PROP_NAME),\n        i = 1;\n\n    for (let n = 0; n < t.height; n++) {\n      let s = this.copyLayer(t, n);\n      s.scale = t.tilemapLayer.scale, s.setDepth(e + rt.shiftPad((n + r) * this.getTileHeight() + i, T.Z_INDEX_PADDING));\n    }\n  }\n\n  copyLayer(t, e) {\n    let r = this.tilemap.createBlankLayer(`${t.name}#${e}`, t.tilemapLayer.tileset);\n\n    for (let i = 0; i < t.width; i++) r.putTileAt(t.data[e][i], i, e);\n\n    return r;\n  }\n\n},\n    R = T;\nR.ALWAYS_TOP_PROP_NAME = \"ge_alwaysTop\", R.CHAR_LAYER_PROP_NAME = \"ge_charLayer\", R.HEIGHT_SHIFT_PROP_NAME = \"ge_heightShift\", R.ONE_WAY_COLLIDE_PROP_PREFIX = \"ge_collide_\", R.Z_INDEX_PADDING = 7;\nvar ft = class {\n  static getRandomInt(t) {\n    return Math.floor(Math.random() * Math.floor(t));\n  }\n\n};\nvar kt = class {\n  constructor(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n    this.character = t;\n    this.delay = r;\n    this.radius = i;\n    this.delayLeft = this.delay, this.initialRow = t.getNextTilePos().position.y, this.initialCol = t.getNextTilePos().position.x, this.randomizeStepSize(), this.stepsWalked = 0, this.currentMovementDirection = \"none\", this.character.positionChangeStarted().pipe(N(this.character.autoMovementSet())).subscribe(() => {\n      this.stepsWalked++;\n    }), this.distanceUtils = Z.create(e);\n  }\n\n  update(t) {\n    if (this.shouldContinueWalkingCurrentDirection()) this.character.move(this.currentMovementDirection);else if (this.delayLeft -= t, this.delayLeft <= 0) {\n      this.delayLeft = this.delay;\n      let e = this.getFreeRandomDirection();\n      this.stepsWalked = 0, this.character.move(e), this.currentMovementDirection = e, this.randomizeStepSize();\n    }\n  }\n\n  shouldContinueWalkingCurrentDirection() {\n    return this.stepsWalked < this.stepSize && this.currentMovementDirection !== \"none\" && !this.character.isBlockingDirection(this.currentMovementDirection) && this.isWithinRadius(this.currentMovementDirection);\n  }\n\n  getFreeDirections() {\n    return this.distanceUtils.getDirections().filter(e => !this.character.isBlockingDirection(e)).filter(e => this.isWithinRadius(e));\n  }\n\n  isWithinRadius(t) {\n    return this.radius == -1 ? !0 : this.getDist(t) <= this.radius;\n  }\n\n  getDist(t) {\n    return this.distanceUtils.distance(this.character.getNextTilePos().position.add(L(t)), new l(this.initialCol, this.initialRow));\n  }\n\n  getFreeRandomDirection() {\n    let t = this.getFreeDirections();\n    return t.length == 0 ? \"none\" : t[ft.getRandomInt(t.length)];\n  }\n\n  randomizeStepSize() {\n    this.stepSize = ft.getRandomInt(this.radius) + 1;\n  }\n\n};\nvar dt = class {\n  constructor(t) {\n    this.scene = t;\n    this.isCreated = !1;\n    this.scene.sys.events.once(\"boot\", this.boot, this);\n  }\n\n  boot() {\n    this.scene.sys.events.on(\"update\", this.update, this), this.scene.sys.events.on(\"destroy\", this.destroy, this);\n  }\n\n  destroy() {\n    this.scene = void 0, this.gridCharacters = void 0, this.gridTilemap = void 0, this.movementStarted$ = void 0, this.movementStopped$ = void 0, this.directionChanged$ = void 0, this.positionChangeStarted$ = void 0, this.positionChangeFinished$ = void 0, this.charRemoved$ = void 0;\n  }\n\n  getCharLayer(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getTilePos().layer;\n  }\n\n  getTransition(t, e) {\n    return this.initGuard(), this.gridTilemap.getTransition(new l(t), e);\n  }\n\n  setTransition(t, e, r) {\n    return this.initGuard(), this.gridTilemap.setTransition(new l(t), e, r);\n  }\n\n  create(t, e) {\n    this.isCreated = !0, this.gridCharacters = new Map();\n    let r = this.setConfigDefaults(e);\n    v.set(r), this.movementStopped$ = new g(), this.movementStarted$ = new g(), this.directionChanged$ = new g(), this.positionChangeStarted$ = new g(), this.positionChangeFinished$ = new g(), this.charRemoved$ = new g(), this.gridTilemap = new R(t), this.addCharacters();\n  }\n\n  getPosition(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getTilePos().position;\n  }\n\n  move(t, e) {\n    this.moveChar(t, e);\n  }\n\n  moveRandomly(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n    this.initGuard(), this.unknownCharGuard(t);\n    let i = new kt(this.gridCharacters.get(t), v.get().numberOfDirections, e, r);\n    this.gridCharacters.get(t).setMovement(i);\n  }\n\n  moveTo(t, e, r) {\n    let i = this.assembleMoveToConfig(r);\n    this.initGuard(), this.unknownCharGuard(t);\n    let n = new J(this.gridCharacters.get(t), this.gridTilemap, {\n      position: new l(e),\n      layer: (r == null ? void 0 : r.targetLayer) || this.gridCharacters.get(t).getNextTilePos().layer\n    }, v.get().numberOfDirections, 0, i);\n    return this.gridCharacters.get(t).setMovement(n), n.finishedObs().pipe(z(1), Ct(s => ({\n      charId: t,\n      position: s.position,\n      result: s.result,\n      description: s.description,\n      layer: s.layer\n    })));\n  }\n\n  stopMovement(t) {\n    this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setMovement(void 0);\n  }\n\n  setSpeed(t, e) {\n    this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setSpeed(e);\n  }\n\n  setWalkingAnimationMapping(t, e) {\n    this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setWalkingAnimationMapping(e);\n  }\n\n  update(t, e) {\n    if (this.isCreated && this.gridCharacters) for (let [r, i] of this.gridCharacters) i.update(e);\n  }\n\n  addCharacter(t) {\n    this.initGuard();\n    let e = v.get().layerOverlay ? this.scene.add.sprite(0, 0, t.sprite.texture) : void 0,\n        r = {\n      sprite: t.sprite,\n      layerOverlaySprite: e,\n      speed: t.speed || 4,\n      tilemap: this.gridTilemap,\n      walkingAnimationMapping: t.walkingAnimationMapping,\n      container: t.container,\n      offsetX: t.offsetX,\n      offsetY: t.offsetY,\n      collidesWithTiles: !0,\n      collisionGroups: [\"geDefault\"],\n      charLayer: t.charLayer\n    };\n    typeof t.collides == \"boolean\" ? t.collides === !1 && (r.collidesWithTiles = !1, r.collisionGroups = []) : t.collides !== void 0 && (t.collides.collidesWithTiles === !1 && (r.collidesWithTiles = !1), t.collides.collisionGroups && (r.collisionGroups = t.collides.collisionGroups));\n    let i = this.createCharacter(t.id, r);\n    t.facingDirection && i.turnTowards(t.facingDirection), this.gridCharacters.set(t.id, i);\n    let n = t.startPosition ? new l(t.startPosition) : new l(0, 0);\n    i.setTilePosition({\n      position: n,\n      layer: i.getTilePos().layer\n    }), this.gridTilemap.addCharacter(i), i.movementStopped().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s => {\n      this.movementStopped$.next({\n        charId: i.getId(),\n        direction: s\n      });\n    }), i.movementStarted().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s => {\n      this.movementStarted$.next({\n        charId: i.getId(),\n        direction: s\n      });\n    }), i.directionChanged().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s => {\n      this.directionChanged$.next({\n        charId: i.getId(),\n        direction: s\n      });\n    }), i.positionChangeStarted().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s => {\n      this.positionChangeStarted$.next(S({\n        charId: i.getId()\n      }, s));\n    }), i.positionChangeFinished().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s => {\n      this.positionChangeFinished$.next(S({\n        charId: i.getId()\n      }, s));\n    });\n  }\n\n  hasCharacter(t) {\n    return this.initGuard(), this.gridCharacters.has(t);\n  }\n\n  removeCharacter(t) {\n    this.initGuard(), this.unknownCharGuard(t), this.gridTilemap.removeCharacter(t), this.gridCharacters.delete(t), this.charRemoved$.next(t);\n  }\n\n  removeAllCharacters() {\n    this.initGuard();\n\n    for (let t of this.gridCharacters.keys()) this.removeCharacter(t);\n  }\n\n  getAllCharacters() {\n    return this.initGuard(), [...this.gridCharacters.keys()];\n  }\n\n  follow(t, e) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    this.initGuard(), this.unknownCharGuard(t), this.unknownCharGuard(e);\n    let n = new Lt(this.gridCharacters.get(t), this.gridTilemap, this.gridCharacters.get(e), v.get().numberOfDirections, r, i ? \"CLOSEST_REACHABLE\" : \"STOP\");\n    this.gridCharacters.get(t).setMovement(n);\n  }\n\n  isMoving(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).isMoving();\n  }\n\n  getFacingDirection(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getFacingDirection();\n  }\n\n  getFacingPosition(t) {\n    this.initGuard(), this.unknownCharGuard(t);\n    let e = this.gridCharacters.get(t).getFacingPosition();\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n\n  turnTowards(t, e) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).turnTowards(e);\n  }\n\n  setPosition(t, e, r) {\n    this.initGuard(), this.unknownCharGuard(t), r || this.gridCharacters.get(t).setTilePosition({\n      position: new l(e),\n      layer: this.gridCharacters.get(t).getTilePos().layer\n    }), this.gridCharacters.get(t).setTilePosition({\n      position: new l(e),\n      layer: r\n    });\n  }\n\n  getSprite(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getSprite();\n  }\n\n  setSprite(t, e) {\n    this.initGuard(), this.unknownCharGuard(t), e.setOrigin(0, 0), this.gridCharacters.get(t).setSprite(e);\n  }\n\n  isBlocked(t, e) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"geDefault\"];\n    return this.initGuard(), this.gridTilemap.isBlocking(e, new l(t), r);\n  }\n\n  isTileBlocked(t, e) {\n    return this.initGuard(), this.gridTilemap.hasBlockingTile(e, new l(t));\n  }\n\n  getCollisionGroups(t) {\n    return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getCollisionGroups();\n  }\n\n  setCollisionGroups(t, e) {\n    this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setCollisionGroups(e);\n  }\n\n  steppedOn(t, e, r) {\n    return this.positionChangeFinished().pipe(C(i => t.includes(i.charId) && e.some(n => n.x === i.enterTile.x && n.y === i.enterTile.y) && (r === void 0 || r.includes(i.enterLayer))));\n  }\n\n  movementStarted() {\n    return this.movementStarted$;\n  }\n\n  movementStopped() {\n    return this.movementStopped$;\n  }\n\n  directionChanged() {\n    return this.directionChanged$;\n  }\n\n  positionChangeStarted() {\n    return this.positionChangeStarted$;\n  }\n\n  positionChangeFinished() {\n    return this.positionChangeFinished$;\n  }\n\n  setConfigDefaults(t) {\n    return S({\n      collisionTilePropertyName: \"ge_collide\",\n      numberOfDirections: 4,\n      characterCollisionStrategy: \"BLOCK_TWO_TILES\",\n      layerOverlay: !1\n    }, t);\n  }\n\n  takeUntilCharRemoved(t) {\n    return N(this.charRemoved$.pipe(C(e => e == t)));\n  }\n\n  initGuard() {\n    if (!this.isCreated) throw new Error(\"Plugin not initialized. You need to call create() first.\");\n  }\n\n  unknownCharGuard(t) {\n    if (!this.gridCharacters.has(t)) throw new Error(`Character unknown: ${t}`);\n  }\n\n  createCharacter(t, e) {\n    return new Mt(t, e);\n  }\n\n  addCharacters() {\n    v.get().characters.forEach(t => this.addCharacter(t));\n  }\n\n  moveChar(t, e) {\n    if (this.initGuard(), this.unknownCharGuard(t), v.get().numberOfDirections === 4) {\n      if (!this.gridTilemap.isIsometric() && _t(e)) {\n        console.warn(`GridEngine: Character '${t}' can't be moved '${e}' in 4 direction mode.`);\n        return;\n      } else if (this.gridTilemap.isIsometric() && !_t(e)) {\n        console.warn(`GridEngine: Character '${t}' can't be moved '${e}' in 4 direction isometric mode.`);\n        return;\n      }\n    }\n\n    this.gridCharacters.get(t).move(e);\n  }\n\n  assembleMoveToConfig(t) {\n    let e = U(S({}, t), {\n      noPathFoundStrategy: \"STOP\",\n      pathBlockedStrategy: \"WAIT\"\n    });\n    return t != null && t.noPathFoundStrategy && (Object.values(Y).includes(t.noPathFoundStrategy) ? e.noPathFoundStrategy = t.noPathFoundStrategy : console.warn(`GridEngine: Unknown NoPathFoundStrategy '${t.noPathFoundStrategy}'. Falling back to '${\"STOP\"}'`)), t != null && t.pathBlockedStrategy && (Object.values(Q).includes(t.pathBlockedStrategy) ? e.pathBlockedStrategy = t.pathBlockedStrategy : console.warn(`GridEngine: Unknown PathBlockedStrategy '${t.pathBlockedStrategy}'. Falling back to '${\"WAIT\"}'`)), e;\n  }\n\n};\nvar ms = dt;\nexport { it as CollisionStrategy, _ as Direction, dt as GridEngine, wt as MoveToResult, Y as NoPathFoundStrategy, G as NumberOfDirections, Q as PathBlockedStrategy, ms as default };\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */","map":{"version":3,"sources":["/var/www/html/chat-app/game/node_modules/grid-engine/dist/GridEngine.esm.min.js"],"names":["Ae","Object","create","vt","defineProperty","Ne","defineProperties","Ge","getOwnPropertyDescriptor","We","getOwnPropertyDescriptors","Ue","getOwnPropertyNames","At","getOwnPropertySymbols","Be","getPrototypeOf","Gt","prototype","hasOwnProperty","He","propertyIsEnumerable","Nt","o","t","e","enumerable","configurable","writable","value","S","call","U","je","exports","Ve","r","i","get","$e","__esModule","ne","lr","st","Wt","Ut","Bt","Ht","jt","Vt","$t","zt","Yt","ot","yt","Xt","Kt","qt","B","Zt","Qt","Jt","te","ee","re","ie","oe","nt","global","self","define","amd","n","s","setPrototypeOf","__proto__","Array","TypeError","String","constructor","assign","arguments","length","h","indexOf","a","p","Reflect","decorate","u","metadata","Promise","d","c","next","D","y","throw","done","then","apply","label","sent","trys","ops","return","Symbol","iterator","pop","push","error","concat","v","asyncIterator","m","W","gt","ke","resolve","shift","raw","default","has","set","config","it","DONT_BLOCK","BLOCK_TWO_TILES","BLOCK_ONE_TILE_AHEAD","BLOCK_ONE_TILE_BEHIND","f","ze","lift","O","se","__extends","E","__assign","pr","__rest","cr","__decorate","ur","__param","mr","__metadata","fr","__awaiter","ae","__generator","at","__exportStar","dr","__createBinding","gr","__values","M","__read","F","__spread","vr","__spreadArrays","yr","__spreadArray","I","__await","ht","__asyncGenerator","he","__asyncDelegator","xr","__asyncValues","le","__makeTemplateObject","br","__importStar","Tr","__importDefault","Pr","__classPrivateFieldGet","Sr","__classPrivateFieldSet","Cr","pe","ce","lt","Error","stack","pt","message","map","toString","join","name","errors","K","splice","H","initialTeardown","closed","_parentage","_teardowns","unsubscribe","isArray","remove","ue","add","_hasParent","_addParent","includes","_removeParent","EMPTY","xt","ct","P","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","j","setTimeout","delegate","clearTimeout","ut","k","me","bt","fe","de","kind","A","V","errorThrown","ge","q","isStopped","destination","Ye","St","Pt","_next","_error","complete","_complete","bind","Tt","ve","$","observable","ye","xe","reduce","b","_subscribe","source","operator","subscribe","Ke","_trySubscribe","forEach","be","pipe","toPromise","Xe","Te","Pe","Se","qe","Ce","_e","De","getReader","read","releaseLock","Oe","Ee","Ze","Qe","Je","we","tr","er","rr","catch","w","onFinalize","Ct","Le","g","observers","hasError","thrownError","Re","_throwIfClosed","slice","_checkFinalizedStatuses","_innerSubscribe","asObservable","Me","z","C","N","l","ZERO","ONE","UP","DOWN","LEFT","RIGHT","UP_LEFT","UP_RIGHT","DOWN_RIGHT","DOWN_LEFT","x","clone","multiply","divide","subtract","equals","abs","Math","sqrt","modulo","scalarModulo","scalarMult","_","NONE","_t","Fe","L","Ie","G","FOUR","EIGHT","Y","STOP","CLOSEST_REACHABLE","RETRY","vec2str","equal","manhattanDistance","chebyshevDistance","max","Dt","distance","direction","neighbours","getDirections","Ot","Z","Et","getShortestPath","shortestPathBfs","path","returnPath","previous","closestToTarget","position","pos2Str","layer","Map","Set","node","dist","shortestDistance","reverse","mt","backoffMs","maxRetries","onFinished","retries","elapsed","retry","shouldRetry","reset","getMaxRetries","Q","WAIT","wt","SUCCESS","NO_PATH_FOUND_MAX_RETRIES_EXCEEDED","PATH_BLOCKED_MAX_RETRIES_EXCEEDED","PATH_BLOCKED","NO_PATH_FOUND","PATH_BLOCKED_WAIT_TIMEOUT","MOVEMENT_TERMINATED","J","character","tilemap","targetPos","posOnPath","stopped","getNeighbours","distanceUtils","filter","isBlocking","getTransition","isInRange","collidesWithTiles","getCollisionGroups","hasBlockingChar","noPathFoundStrategy","pathBlockedStrategy","noPathFoundRetryable","noPathFoundRetryBackoffMs","noPathFoundMaxRetries","stop","pathBlockedRetryable","pathBlockedRetryBackoffMs","pathBlockedMaxRetries","pathBlockedWaitTimeoutMs","finished$","setCharacter","setPathBlockedStrategy","getPathBlockedStrategy","pathBlockedWaitElapsed","calcShortestPath","autoMovementSet","update","noPathFound","updatePosOnPath","nextTileOnPath","getNextTilePos","applyPathBlockedStrategy","hasArrived","existsDistToTarget","turnTowardsTarget","moveCharOnPath","finishedObs","resultToReason","getDir","move","shortestPath","getTilePos","result","description","turnTowards","distOffset","Lt","gridTilemap","charToFollow","numberOfDirections","updateTarget","positionChangeStarted","enterTile","enterLayer","targetMovement","tt","copyOver","X","sprite","walkingAnimationMapping","characterIndex","lastFootLeft","directionToFrameRow","_isEnabled","setIsEnabled","isEnabled","updateCharacterFrame","setStandingFrameDuringWalk","setWalkingFrame","setStandingFrame","_setStandingFrame","setWalkingAnimationMapping","setCharacterIndex","getWalkingAnimationMapping","getCharacterIndex","isCurrentFrameStanding","framesOfDirection","setFrame","rightFoot","leftFoot","standing","Number","frame","getFramesForAnimationMapping","getFramesForCharIndex","fallbackDirection","texture","width","FRAMES_CHAR_ROW","floor","FRAMES_CHAR_COL","et","rt","shiftPad","padStart","pow","Rt","copyOverImportantProperties","tint","alpha","scale","active","alphaBottomLeft","alphaBottomRight","alphaTopLeft","alphaTopRight","angle","Mt","id","movementDirection","tileSizePixelsWalked","_nextTilePos","_tilePos","movementStarted$","movementStopped$","directionChanged$","positionChangeStarted$","positionChangeFinished$","tilePositionSet$","autoMovementSet$","lastMovementImpulse","facingDirection","container","speed","collidesWithTilesInternal","customOffset","offsetX","offsetY","charLayer","layerOverlaySprite","collisionGroups","initLayerOverlaySprite","_setSprite","getId","getSpeed","setSpeed","getSprite","setSprite","setMovement","movement","getMovement","animation","setTilePosition","isMoving","nextTilePos","fire","tilePos","setPosition","tilePosToPixelPos","getOffset","updateZindex","isBlockingDirection","startMoving","updateCharacterPosition","getMovementDirection","tilePosInDirection","hasBlockingTile","getFacingDirection","getFacingPosition","addCollisionGroup","setCollisionGroups","from","hasCollisionGroup","removeCollisionGroup","delete","removeAllCollisionGroups","clear","movementStarted","movementStopped","directionChanged","tilePositionSet","positionChangeFinished","setOrigin","getTileWidth","displayWidth","displayHeight","getTileHeight","getSpeedPerDelta","getDistToNextTile","moveCharacterSprite","shouldContinueMoving","getProportionWalked","stopMoving","speedPixelsPerSecond","getTileDistance","gameObject","setDepth","getDepthOfCharLayer","getTransitionLayer","getPaddedPixelDepth","getPosition","updateTilePos","toMapDirection","isNaN","hasWalkedHalfATile","exitTile","exitLayer","setCrop","height","Ft","tilePosToCharacters","positionChangeStartedSubs","tilePosSetSubs","positionChangeFinishedSubs","isCharBlockingAt","posToString","size","some","addCharacter","addPositionChangeSub","addPositionChangeFinishedSub","addTilePosSetSub","removeCharacter","characterCollisionStrategy","It","getX","getY","getWidth","getHeight","T","characters","charBlockCache","charLayerDepths","transitions","setLayerDepths","getLowestCharLayer","getCharacters","values","hasNoTile","getCollisionRelevantLayers","isLayerBlockingAt","setTransition","getTransitions","hasTileAt","layers","tilemapLayer","tileWidth","tileHeight","getTileSize","isIsometric","orientation","Phaser","Tilemaps","Orientation","ISOMETRIC","ONE_WAY_COLLIDE_PROP_PREFIX","getTileAt","Boolean","properties","collisionTilePropertyName","getCharLayerIndexes","index","isCharLayer","findPrevAndCharLayer","findIndex","getLayerProp","CHAR_LAYER_PROP_NAME","prevIndex","charLayerIndex","find","hasLayerProp","isLayerAlwaysOnTop","ALWAYS_TOP_PROP_NAME","HEIGHT_SHIFT_PROP_NAME","createHeightShiftLayers","destroy","copyLayer","Z_INDEX_PADDING","createBlankLayer","tileset","putTileAt","data","R","ft","getRandomInt","random","kt","delay","radius","delayLeft","initialRow","initialCol","randomizeStepSize","stepsWalked","currentMovementDirection","shouldContinueWalkingCurrentDirection","getFreeRandomDirection","stepSize","isWithinRadius","getFreeDirections","getDist","dt","scene","isCreated","sys","events","once","boot","on","gridCharacters","charRemoved$","getCharLayer","initGuard","unknownCharGuard","setConfigDefaults","addCharacters","moveChar","moveRandomly","moveTo","assembleMoveToConfig","targetLayer","charId","stopMovement","layerOverlay","collides","createCharacter","startPosition","takeUntilCharRemoved","hasCharacter","removeAllCharacters","keys","getAllCharacters","follow","isBlocked","isTileBlocked","steppedOn","console","warn","ms","CollisionStrategy","Direction","GridEngine","MoveToResult","NoPathFoundStrategy","NumberOfDirections","PathBlockedStrategy"],"mappings":"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","sourcesContent":["var Ae=Object.create;var vt=Object.defineProperty,Ne=Object.defineProperties,Ge=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertyNames,At=Object.getOwnPropertySymbols,Be=Object.getPrototypeOf,Gt=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var Nt=(o,t,e)=>t in o?vt(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,S=(o,t)=>{for(var e in t||(t={}))Gt.call(t,e)&&Nt(o,e,t[e]);if(At)for(var e of At(t))He.call(t,e)&&Nt(o,e,t[e]);return o},U=(o,t)=>Ne(o,We(t));var je=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);var Ve=(o,t,e,r)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of Ue(t))!Gt.call(o,i)&&i!==e&&vt(o,i,{get:()=>t[i],enumerable:!(r=Ge(t,i))||r.enumerable});return o};var $e=(o,t,e)=>(e=o!=null?Ae(Be(o)):{},Ve(t||!o||!o.__esModule?vt(e,\"default\",{value:o,enumerable:!0}):e,o));var ne=je((lr,st)=>{var Wt,Ut,Bt,Ht,jt,Vt,$t,zt,Yt,ot,yt,Xt,Kt,qt,B,Zt,Qt,Jt,te,ee,re,ie,oe,nt;(function(o){var t=typeof global==\"object\"?global:typeof self==\"object\"?self:typeof this==\"object\"?this:{};typeof define==\"function\"&&define.amd?define(\"tslib\",[\"exports\"],function(r){o(e(t,e(r)))}):typeof st==\"object\"&&typeof st.exports==\"object\"?o(e(t,e(st.exports))):o(e(t));function e(r,i){return r!==t&&(typeof Object.create==\"function\"?Object.defineProperty(r,\"__esModule\",{value:!0}):r.__esModule=!0),function(n,s){return r[n]=i?i(n,s):s}}})(function(o){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])};Wt=function(r,i){if(typeof i!=\"function\"&&i!==null)throw new TypeError(\"Class extends value \"+String(i)+\" is not a constructor or null\");t(r,i);function n(){this.constructor=r}r.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)},Ut=Object.assign||function(r){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(r[h]=i[h])}return r},Bt=function(r,i){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var h=0,s=Object.getOwnPropertySymbols(r);h<s.length;h++)i.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(r,s[h])&&(n[s[h]]=r[s[h]]);return n},Ht=function(r,i,n,s){var h=arguments.length,a=h<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,p;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")a=Reflect.decorate(r,i,n,s);else for(var u=r.length-1;u>=0;u--)(p=r[u])&&(a=(h<3?p(a):h>3?p(i,n,a):p(i,n))||a);return h>3&&a&&Object.defineProperty(i,n,a),a},jt=function(r,i){return function(n,s){i(n,s,r)}},Vt=function(r,i){if(typeof Reflect==\"object\"&&typeof Reflect.metadata==\"function\")return Reflect.metadata(r,i)},$t=function(r,i,n,s){function h(a){return a instanceof n?a:new n(function(p){p(a)})}return new(n||(n=Promise))(function(a,p){function u(d){try{c(s.next(d))}catch(D){p(D)}}function y(d){try{c(s.throw(d))}catch(D){p(D)}}function c(d){d.done?a(d.value):h(d.value).then(u,y)}c((s=s.apply(r,i||[])).next())})},zt=function(r,i){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,h,a,p;return p={next:u(0),throw:u(1),return:u(2)},typeof Symbol==\"function\"&&(p[Symbol.iterator]=function(){return this}),p;function u(c){return function(d){return y([c,d])}}function y(c){if(s)throw new TypeError(\"Generator is already executing.\");for(;n;)try{if(s=1,h&&(a=c[0]&2?h.return:c[0]?h.throw||((a=h.return)&&a.call(h),0):h.next)&&!(a=a.call(h,c[1])).done)return a;switch(h=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,h=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=i.call(r,n)}catch(d){c=[6,d],h=0}finally{s=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Yt=function(r,i){for(var n in r)n!==\"default\"&&!Object.prototype.hasOwnProperty.call(i,n)&&nt(i,r,n)},nt=Object.create?function(r,i,n,s){s===void 0&&(s=n),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[n]}})}:function(r,i,n,s){s===void 0&&(s=n),r[s]=i[n]},ot=function(r){var i=typeof Symbol==\"function\"&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&typeof r.length==\"number\")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},yt=function(r,i){var n=typeof Symbol==\"function\"&&r[Symbol.iterator];if(!n)return r;var s=n.call(r),h,a=[],p;try{for(;(i===void 0||i-- >0)&&!(h=s.next()).done;)a.push(h.value)}catch(u){p={error:u}}finally{try{h&&!h.done&&(n=s.return)&&n.call(s)}finally{if(p)throw p.error}}return a},Xt=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(yt(arguments[i]));return r},Kt=function(){for(var r=0,i=0,n=arguments.length;i<n;i++)r+=arguments[i].length;for(var s=Array(r),h=0,i=0;i<n;i++)for(var a=arguments[i],p=0,u=a.length;p<u;p++,h++)s[h]=a[p];return s},qt=function(r,i){for(var n=0,s=i.length,h=r.length;n<s;n++,h++)r[h]=i[n];return r},B=function(r){return this instanceof B?(this.v=r,this):new B(r)},Zt=function(r,i,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var s=n.apply(r,i||[]),h,a=[];return h={},p(\"next\"),p(\"throw\"),p(\"return\"),h[Symbol.asyncIterator]=function(){return this},h;function p(m){s[m]&&(h[m]=function(W){return new Promise(function(gt,ke){a.push([m,W,gt,ke])>1||u(m,W)})})}function u(m,W){try{y(s[m](W))}catch(gt){D(a[0][3],gt)}}function y(m){m.value instanceof B?Promise.resolve(m.value.v).then(c,d):D(a[0][2],m)}function c(m){u(\"next\",m)}function d(m){u(\"throw\",m)}function D(m,W){m(W),a.shift(),a.length&&u(a[0][0],a[0][1])}},Qt=function(r){var i,n;return i={},s(\"next\"),s(\"throw\",function(h){throw h}),s(\"return\"),i[Symbol.iterator]=function(){return this},i;function s(h,a){i[h]=r[h]?function(p){return(n=!n)?{value:B(r[h](p)),done:h===\"return\"}:a?a(p):p}:a}},Jt=function(r){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var i=r[Symbol.asyncIterator],n;return i?i.call(r):(r=typeof ot==\"function\"?ot(r):r[Symbol.iterator](),n={},s(\"next\"),s(\"throw\"),s(\"return\"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=r[a]&&function(p){return new Promise(function(u,y){p=r[a](p),h(u,y,p.done,p.value)})}}function h(a,p,u,y){Promise.resolve(y).then(function(c){a({value:c,done:u})},p)}},te=function(r,i){return Object.defineProperty?Object.defineProperty(r,\"raw\",{value:i}):r.raw=i,r};var e=Object.create?function(r,i){Object.defineProperty(r,\"default\",{enumerable:!0,value:i})}:function(r,i){r.default=i};ee=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var n in r)n!==\"default\"&&Object.prototype.hasOwnProperty.call(r,n)&&nt(i,r,n);return e(i,r),i},re=function(r){return r&&r.__esModule?r:{default:r}},ie=function(r,i){if(!i.has(r))throw new TypeError(\"attempted to get private field on non-instance\");return i.get(r)},oe=function(r,i,n){if(!i.has(r))throw new TypeError(\"attempted to set private field on non-instance\");return i.set(r,n),n},o(\"__extends\",Wt),o(\"__assign\",Ut),o(\"__rest\",Bt),o(\"__decorate\",Ht),o(\"__param\",jt),o(\"__metadata\",Vt),o(\"__awaiter\",$t),o(\"__generator\",zt),o(\"__exportStar\",Yt),o(\"__createBinding\",nt),o(\"__values\",ot),o(\"__read\",yt),o(\"__spread\",Xt),o(\"__spreadArrays\",Kt),o(\"__spreadArray\",qt),o(\"__await\",B),o(\"__asyncGenerator\",Zt),o(\"__asyncDelegator\",Qt),o(\"__asyncValues\",Jt),o(\"__makeTemplateObject\",te),o(\"__importStar\",ee),o(\"__importDefault\",re),o(\"__classPrivateFieldGet\",ie),o(\"__classPrivateFieldSet\",oe)})});var v=class{static get(){return v.config}static set(t){v.config=t}};var it=(i=>(i.DONT_BLOCK=\"DONT_BLOCK\",i.BLOCK_TWO_TILES=\"BLOCK_TWO_TILES\",i.BLOCK_ONE_TILE_AHEAD=\"BLOCK_ONE_TILE_AHEAD\",i.BLOCK_ONE_TILE_BEHIND=\"BLOCK_ONE_TILE_BEHIND\",i))(it||{});function f(o){return typeof o==\"function\"}function ze(o){return f(o==null?void 0:o.lift)}function O(o){return function(t){if(ze(t))return t.lift(function(e){try{return o(e,this)}catch(r){this.error(r)}});throw new TypeError(\"Unable to lift unknown Observable type\")}}var se=$e(ne(),1),{__extends:E,__assign:pr,__rest:cr,__decorate:ur,__param:mr,__metadata:fr,__awaiter:ae,__generator:at,__exportStar:dr,__createBinding:gr,__values:M,__read:F,__spread:vr,__spreadArrays:yr,__spreadArray:I,__await:ht,__asyncGenerator:he,__asyncDelegator:xr,__asyncValues:le,__makeTemplateObject:br,__importStar:Tr,__importDefault:Pr,__classPrivateFieldGet:Sr,__classPrivateFieldSet:Cr}=se.default;var pe=function(o){return o&&typeof o.length==\"number\"&&typeof o!=\"function\"};function ce(o){return f(o==null?void 0:o.then)}function lt(o){var t=function(r){Error.call(r),r.stack=new Error().stack},e=o(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pt=lt(function(o){return function(e){o(this),this.message=e?e.length+` errors occurred during unsubscription:\n`+e.map(function(r,i){return i+1+\") \"+r.toString()}).join(`\n  `):\"\",this.name=\"UnsubscriptionError\",this.errors=e}});function K(o,t){if(o){var e=o.indexOf(t);0<=e&&o.splice(e,1)}}var H=function(){function o(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return o.prototype.unsubscribe=function(){var t,e,r,i,n;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var h=M(s),a=h.next();!a.done;a=h.next()){var p=a.value;p.remove(this)}}catch(m){t={error:m}}finally{try{a&&!a.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(f(u))try{u()}catch(m){n=m instanceof pt?m.errors:[m]}var y=this._teardowns;if(y){this._teardowns=null;try{for(var c=M(y),d=c.next();!d.done;d=c.next()){var D=d.value;try{ue(D)}catch(m){n=n!=null?n:[],m instanceof pt?n=I(I([],F(n),!1),F(m.errors),!1):n.push(m)}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}if(n)throw new pt(n)}},o.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)ue(t);else{if(t instanceof o){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=(e=this._teardowns)!==null&&e!==void 0?e:[]).push(t)}},o.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},o.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},o.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&K(e,t)},o.prototype.remove=function(t){var e=this._teardowns;e&&K(e,t),t instanceof o&&t._removeParent(this)},o.EMPTY=function(){var t=new o;return t.closed=!0,t}(),o}();var xt=H.EMPTY;function ct(o){return o instanceof H||o&&\"closed\"in o&&f(o.remove)&&f(o.add)&&f(o.unsubscribe)}function ue(o){f(o)?o():o.unsubscribe()}var P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var j={setTimeout:function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var e=j.delegate;return((e==null?void 0:e.setTimeout)||setTimeout).apply(void 0,I([],F(o),!1))},clearTimeout:function(o){var t=j.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(o)},delegate:void 0};function ut(o){j.setTimeout(function(){var t=P.onUnhandledError;if(t)t(o);else throw o})}function k(){}var me=function(){return bt(\"C\",void 0,void 0)}();function fe(o){return bt(\"E\",void 0,o)}function de(o){return bt(\"N\",o,void 0)}function bt(o,t,e){return{kind:o,value:t,error:e}}var A=null;function V(o){if(P.useDeprecatedSynchronousErrorHandling){var t=!A;if(t&&(A={errorThrown:!1,error:null}),o(),t){var e=A,r=e.errorThrown,i=e.error;if(A=null,r)throw i}}else o()}function ge(o){P.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=o)}var q=function(o){E(t,o);function t(e){var r=o.call(this)||this;return r.isStopped=!1,e?(r.destination=e,ct(e)&&e.add(r)):r.destination=Ye,r}return t.create=function(e,r,i){return new St(e,r,i)},t.prototype.next=function(e){this.isStopped?Pt(de(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Pt(fe(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Pt(me,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(H);var St=function(o){E(t,o);function t(e,r,i){var n=o.call(this)||this,s;if(f(e))s=e;else if(e){s=e.next,r=e.error,i=e.complete;var h;n&&P.useDeprecatedNextContext?(h=Object.create(e),h.unsubscribe=function(){return n.unsubscribe()}):h=e,s=s==null?void 0:s.bind(h),r=r==null?void 0:r.bind(h),i=i==null?void 0:i.bind(h)}return n.destination={next:s?Tt(s,n):k,error:Tt(r!=null?r:ve,n),complete:i?Tt(i,n):k},n}return t}(q);function Tt(o,t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{o.apply(void 0,I([],F(e),!1))}catch(i){P.useDeprecatedSynchronousErrorHandling?ge(i):ut(i)}}}function ve(o){throw o}function Pt(o,t){var e=P.onStoppedNotification;e&&j.setTimeout(function(){return e(o,t)})}var Ye={closed:!0,next:k,error:ve,complete:k};var $=function(){return typeof Symbol==\"function\"&&Symbol.observable||\"@@observable\"}();function ye(o){return o}function xe(o){return o.length===0?ye:o.length===1?o[0]:function(e){return o.reduce(function(r,i){return i(r)},e)}}var b=function(){function o(t){t&&(this._subscribe=t)}return o.prototype.lift=function(t){var e=new o;return e.source=this,e.operator=t,e},o.prototype.subscribe=function(t,e,r){var i=this,n=Ke(t)?t:new St(t,e,r);return V(function(){var s=i,h=s.operator,a=s.source;n.add(h?h.call(n,a):a?i._subscribe(n):i._trySubscribe(n))}),n},o.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},o.prototype.forEach=function(t,e){var r=this;return e=be(e),new e(function(i,n){var s;s=r.subscribe(function(h){try{t(h)}catch(a){n(a),s==null||s.unsubscribe()}},n,i)})},o.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},o.prototype[$]=function(){return this},o.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xe(t)(this)},o.prototype.toPromise=function(t){var e=this;return t=be(t),new t(function(r,i){var n;e.subscribe(function(s){return n=s},function(s){return i(s)},function(){return r(n)})})},o.create=function(t){return new o(t)},o}();function be(o){var t;return(t=o!=null?o:P.Promise)!==null&&t!==void 0?t:Promise}function Xe(o){return o&&f(o.next)&&f(o.error)&&f(o.complete)}function Ke(o){return o&&o instanceof q||Xe(o)&&ct(o)}function Te(o){return f(o[$])}function Pe(o){return Symbol.asyncIterator&&f(o==null?void 0:o[Symbol.asyncIterator])}function Se(o){return new TypeError(\"You provided \"+(o!==null&&typeof o==\"object\"?\"an invalid object\":\"'\"+o+\"'\")+\" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\")}function qe(){return typeof Symbol!=\"function\"||!Symbol.iterator?\"@@iterator\":Symbol.iterator}var Ce=qe();function _e(o){return f(o==null?void 0:o[Ce])}function De(o){return he(this,arguments,function(){var e,r,i,n;return at(this,function(s){switch(s.label){case 0:e=o.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ht(e.read())];case 3:return r=s.sent(),i=r.value,n=r.done,n?[4,ht(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ht(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Oe(o){return f(o==null?void 0:o.getReader)}function Ee(o){if(o instanceof b)return o;if(o!=null){if(Te(o))return Ze(o);if(pe(o))return Qe(o);if(ce(o))return Je(o);if(Pe(o))return we(o);if(_e(o))return tr(o);if(Oe(o))return er(o)}throw Se(o)}function Ze(o){return new b(function(t){var e=o[$]();if(f(e.subscribe))return e.subscribe(t);throw new TypeError(\"Provided object does not correctly implement Symbol.observable\")})}function Qe(o){return new b(function(t){for(var e=0;e<o.length&&!t.closed;e++)t.next(o[e]);t.complete()})}function Je(o){return new b(function(t){o.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,ut)})}function tr(o){return new b(function(t){var e,r;try{for(var i=M(o),n=i.next();!n.done;n=i.next()){var s=n.value;if(t.next(s),t.closed)return}}catch(h){e={error:h}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.complete()})}function we(o){return new b(function(t){rr(o,t).catch(function(e){return t.error(e)})})}function er(o){return we(De(o))}function rr(o,t){var e,r,i,n;return ae(this,void 0,void 0,function(){var s,h;return at(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),e=le(o),a.label=1;case 1:return[4,e.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=a.sent(),i={error:h},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(n=e.return)?[4,n.call(e)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var w=function(o){E(t,o);function t(e,r,i,n,s){var h=o.call(this,e)||this;return h.onFinalize=s,h._next=r?function(a){try{r(a)}catch(p){e.error(p)}}:o.prototype._next,h._error=n?function(a){try{n(a)}catch(p){e.error(p)}finally{this.unsubscribe()}}:o.prototype._error,h._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:o.prototype._complete,h}return t.prototype.unsubscribe=function(){var e,r=this.closed;o.prototype.unsubscribe.call(this),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))},t}(q);function Ct(o,t){return O(function(e,r){var i=0;e.subscribe(new w(r,function(n){r.next(o.call(t,n,i++))}))})}var Le=lt(function(o){return function(){o(this),this.name=\"ObjectUnsubscribedError\",this.message=\"object unsubscribed\"}});var g=function(o){E(t,o);function t(){var e=o.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var r=new Re(this,this);return r.operator=e,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Le},t.prototype.next=function(e){var r=this;V(function(){var i,n;if(r._throwIfClosed(),!r.isStopped){var s=r.observers.slice();try{for(var h=M(s),a=h.next();!a.done;a=h.next()){var p=a.value;p.next(e)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var r=this;V(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=e;for(var i=r.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;V(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var r=e.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,\"observed\",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),o.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var r=this,i=r.hasError,n=r.isStopped,s=r.observers;return i||n?xt:(s.push(e),new H(function(){return K(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var r=this,i=r.hasError,n=r.thrownError,s=r.isStopped;i?e.error(n):s&&e.complete()},t.prototype.asObservable=function(){var e=new b;return e.source=this,e},t.create=function(e,r){return new Re(e,r)},t}(b);var Re=function(o){E(t,o);function t(e,r){var i=o.call(this)||this;return i.destination=e,i.source=r,i}return t.prototype.next=function(e){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,e)},t.prototype.error=function(e){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,e)},t.prototype.complete=function(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)},t.prototype._subscribe=function(e){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&i!==void 0?i:xt},t}(g);var Me=new b(function(o){return o.complete()});function z(o){return o<=0?function(){return Me}:O(function(t,e){var r=0;t.subscribe(new w(e,function(i){++r<=o&&(e.next(i),o<=r&&e.complete())}))})}function C(o,t){return O(function(e,r){var i=0;e.subscribe(new w(r,function(n){return o.call(t,n,i++)&&r.next(n)}))})}function N(o){return O(function(t,e){Ee(o).subscribe(new w(e,function(){return e.complete()},k)),!e.closed&&t.subscribe(e)})}var l=class{static get ZERO(){return new l(0,0)}static get ONE(){return new l(1,1)}static get UP(){return new l(0,-1)}static get DOWN(){return new l(0,1)}static get LEFT(){return new l(-1,0)}static get RIGHT(){return new l(1,0)}static get UP_LEFT(){return new l(-1,-1)}static get UP_RIGHT(){return new l(1,-1)}static get DOWN_RIGHT(){return new l(1,1)}static get DOWN_LEFT(){return new l(-1,1)}constructor(t,e){typeof t==\"number\"?(this.x=t,this.y=e||0):(this.x=t.x,this.y=t.y)}clone(){return new l(this.x,this.y)}add(t){return new l(this.x+t.x,this.y+t.y)}multiply(t){return new l(this.x*t.x,this.y*t.y)}divide(t){return new l(this.x/t.x,this.y/t.y)}subtract(t){return new l(this.x-t.x,this.y-t.y)}equals(t){return this.x===t.x&&this.y===t.y}abs(){return new l(Math.abs(this.x),Math.abs(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}modulo(t){return new l(this.x%t.x,this.y%t.y)}scalarModulo(t){return new l(this.x%t,this.y%t)}scalarMult(t){return new l(this.x*t,this.y*t)}toString(){return`${this.x}#${this.y}`}};var _=(p=>(p.NONE=\"none\",p.LEFT=\"left\",p.UP_LEFT=\"up-left\",p.UP=\"up\",p.UP_RIGHT=\"up-right\",p.RIGHT=\"right\",p.DOWN_RIGHT=\"down-right\",p.DOWN=\"down\",p.DOWN_LEFT=\"down-left\",p))(_||{});function _t(o){return[\"down-left\",\"down-right\",\"up-right\",\"up-left\"].includes(o)}function Fe(o){return{[\"left\"]:\"down-left\",[\"up-left\"]:\"left\",[\"up\"]:\"up-left\",[\"up-right\"]:\"up\",[\"right\"]:\"up-right\",[\"down-right\"]:\"right\",[\"down\"]:\"down-right\",[\"down-left\"]:\"down\",[\"none\"]:\"none\"}[o]}function L(o){return{[\"up\"]:l.UP,[\"down\"]:l.DOWN,[\"left\"]:l.LEFT,[\"right\"]:l.RIGHT,[\"none\"]:l.ZERO,[\"up-left\"]:l.UP_LEFT,[\"up-right\"]:l.UP_RIGHT,[\"down-right\"]:l.DOWN_RIGHT,[\"down-left\"]:l.DOWN_LEFT}[o]}function Ie(o){return{[\"up\"]:\"down\",[\"down\"]:\"up\",[\"left\"]:\"right\",[\"right\"]:\"left\",[\"none\"]:\"none\",[\"up-left\"]:\"down-right\",[\"up-right\"]:\"down-left\",[\"down-right\"]:\"up-left\",[\"down-left\"]:\"up-right\"}[o]}var G=(e=>(e[e.FOUR=4]=\"FOUR\",e[e.EIGHT=8]=\"EIGHT\",e))(G||{});var Y=(r=>(r.STOP=\"STOP\",r.CLOSEST_REACHABLE=\"CLOSEST_REACHABLE\",r.RETRY=\"RETRY\",r))(Y||{});var x=class{static vec2str(t){return`${t.x}#${t.y}`}static equal(t,e){return x.vec2str(t)==x.vec2str(e)}static manhattanDistance(t,e){let r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return r+i}static chebyshevDistance(t,e){let r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.max(r,i)}static scalarMult(t,e){return t.clone().multiply(new l(e,e))}};var Dt=class{distance(t,e){return x.manhattanDistance(t,e)}direction(t,e){if(x.equal(t,e))return\"none\";let r=t.clone().subtract(e);return Math.abs(r.x)>Math.abs(r.y)?r.x>0?\"left\":\"right\":r.y>0?\"up\":\"down\"}neighbours(t){return[new l(t.x,t.y+1),new l(t.x+1,t.y),new l(t.x-1,t.y),new l(t.x,t.y-1)]}getDirections(){return[\"up\",\"right\",\"down\",\"left\"]}};var Ot=class{distance(t,e){return x.chebyshevDistance(t,e)}neighbours(t){let e=[new l(t.x,t.y+1),new l(t.x+1,t.y),new l(t.x-1,t.y),new l(t.x,t.y-1)],r=[new l(t.x+1,t.y+1),new l(t.x+1,t.y-1),new l(t.x-1,t.y+1),new l(t.x-1,t.y-1)];return[...e,...r]}direction(t,e){return e.x>t.x?e.y>t.y?\"down-right\":e.y<t.y?\"up-right\":\"right\":e.x<t.x?e.y>t.y?\"down-left\":e.y<t.y?\"up-left\":\"left\":e.y<t.y?\"up\":e.y>t.y?\"down\":\"none\"}getDirections(){return[\"up\",\"right\",\"down\",\"left\",\"down-left\",\"down-right\",\"up-right\",\"up-left\"]}};var Z=class{static create(t){switch(t){case 4:return new Dt;case 8:return new Ot}}};var Et=class{getShortestPath(t,e,r){let i=this.shortestPathBfs(t,e,r);return{path:this.returnPath(i.previous,t,e),closestToTarget:i.closestToTarget}}distance(t,e){return x.manhattanDistance(t.position,e.position)}pos2Str(t){return`${t.position.toString()}#${t.layer}`}equal(t,e){return x.equal(t.position,e.position)?t.layer===e.layer:!1}shortestPathBfs(t,e,r){let i=new Map,n=new Set,s=[],h=t,a=this.distance(t,e);for(s.push({node:t,dist:0}),n.add(this.pos2Str(t));s.length>0;){let{node:p,dist:u}=s.shift(),y=this.distance(p,e);if(y<a&&(a=y,h=p),this.equal(p,e))return{shortestDistance:u,previous:i,closestToTarget:h};for(let c of r(p))n.has(this.pos2Str(c))||(i.set(this.pos2Str(c),p),s.push({node:c,dist:u+1}),n.add(this.pos2Str(c)))}return{shortestDistance:-1,previous:i,closestToTarget:h}}returnPath(t,e,r){let i=[],n=r;for(i.push(n);!this.equal(n,e);){if(n=t.get(this.pos2Str(n)),!n)return[];i.push(n)}return i.reverse()}};var mt=class{constructor(t,e,r){this.backoffMs=t;this.maxRetries=e;this.onFinished=r;this.retries=0;this.elapsed=0}retry(t,e){this.shouldRetry()?(this.elapsed+=t,this.elapsed>=this.backoffMs&&(this.elapsed=0,this.retries++,e())):this.onFinished()}reset(){this.retries=0,this.elapsed=0}getMaxRetries(){return this.maxRetries}shouldRetry(){return this.maxRetries===-1||this.retries<this.maxRetries}};var Q=(r=>(r.WAIT=\"WAIT\",r.RETRY=\"RETRY\",r.STOP=\"STOP\",r))(Q||{});var wt=(h=>(h.SUCCESS=\"SUCCESS\",h.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED=\"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\",h.PATH_BLOCKED_MAX_RETRIES_EXCEEDED=\"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\",h.PATH_BLOCKED=\"PATH_BLOCKED\",h.NO_PATH_FOUND=\"NO_PATH_FOUND\",h.PATH_BLOCKED_WAIT_TIMEOUT=\"PATH_BLOCKED_WAIT_TIMEOUT\",h.MOVEMENT_TERMINATED=\"MOVEMENT_TERMINATED\",h))(wt||{}),J=class{constructor(t,e,r,i=4,n=0,s){this.character=t;this.tilemap=e;this.targetPos=r;this.distance=n;this.posOnPath=0;this.stopped=!1;this.getNeighbours=t=>this.distanceUtils.neighbours(t.position).filter(i=>!this.isBlocking(i,t.layer)).map(i=>{let n=this.tilemap.getTransition(i,t.layer);return{position:i,layer:n||t.layer}});this.isBlocking=(t,e)=>{var r;return!t||!this.tilemap.isInRange(t)?!0:(r=this.character)!=null&&r.collidesWithTiles()?this.tilemap.isBlocking(e,t,this.character.getCollisionGroups()):this.tilemap.hasBlockingChar(t,e,this.character.getCollisionGroups())};this.noPathFoundStrategy=(s==null?void 0:s.noPathFoundStrategy)||\"STOP\",this.pathBlockedStrategy=(s==null?void 0:s.pathBlockedStrategy)||\"WAIT\",this.noPathFoundRetryable=new mt((s==null?void 0:s.noPathFoundRetryBackoffMs)||200,(s==null?void 0:s.noPathFoundMaxRetries)||-1,()=>{this.stop(\"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\")}),this.pathBlockedRetryable=new mt((s==null?void 0:s.pathBlockedRetryBackoffMs)||200,(s==null?void 0:s.pathBlockedMaxRetries)||-1,()=>{this.stop(\"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\")}),this.distanceUtils=Z.create(i),this.pathBlockedWaitTimeoutMs=(s==null?void 0:s.pathBlockedWaitTimeoutMs)||-1,this.finished$=new g,this.setCharacter(t)}setPathBlockedStrategy(t){this.pathBlockedStrategy=t}getPathBlockedStrategy(){return this.pathBlockedStrategy}setCharacter(t){this.character=t,this.noPathFoundRetryable.reset(),this.pathBlockedRetryable.reset(),this.pathBlockedWaitElapsed=0,this.calcShortestPath(),this.character.autoMovementSet().pipe(z(1),C(e=>e!==this)).subscribe(()=>{this.stop(\"MOVEMENT_TERMINATED\")})}update(t){var e,r,i,n;this.stopped||(this.noPathFound()&&(this.noPathFoundStrategy===\"RETRY\"?this.noPathFoundRetryable.retry(t,()=>this.calcShortestPath()):this.noPathFoundStrategy===\"STOP\"&&this.stop(\"NO_PATH_FOUND\")),this.updatePosOnPath(),this.isBlocking((e=this.nextTileOnPath())==null?void 0:e.position,(r=this.character)==null?void 0:r.getNextTilePos().layer)?this.applyPathBlockedStrategy(t):this.pathBlockedWaitElapsed=0,this.hasArrived()?(this.stop(\"SUCCESS\"),this.existsDistToTarget()&&this.turnTowardsTarget()):this.isBlocking((i=this.nextTileOnPath())==null?void 0:i.position,(n=this.character)==null?void 0:n.getNextTilePos().layer)||this.moveCharOnPath())}finishedObs(){return this.finished$}resultToReason(t){switch(t){case\"SUCCESS\":return\"Successfully arrived.\";case\"MOVEMENT_TERMINATED\":return\"Movement of character has been replaced before destination was reached.\";case\"PATH_BLOCKED\":return\"PathBlockedStrategy STOP: Path blocked.\";case\"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\":return`NoPathFoundStrategy RETRY: Maximum retries of ${this.noPathFoundRetryable.getMaxRetries()} exceeded.`;case\"NO_PATH_FOUND\":return\"NoPathFoundStrategy STOP: No path found.\";case\"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\":return`PathBlockedStrategy RETRY: Maximum retries of ${this.pathBlockedRetryable.getMaxRetries()} exceeded.`;case\"PATH_BLOCKED_WAIT_TIMEOUT\":return`PathBlockedStrategy WAIT: Wait timeout of ${this.pathBlockedWaitTimeoutMs}ms exceeded.`}}applyPathBlockedStrategy(t){this.pathBlockedStrategy===\"RETRY\"?this.pathBlockedRetryable.retry(t,()=>this.calcShortestPath()):this.pathBlockedStrategy===\"STOP\"?this.stop(\"PATH_BLOCKED\"):this.pathBlockedStrategy===\"WAIT\"&&this.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=t,this.pathBlockedWaitElapsed>=this.pathBlockedWaitTimeoutMs&&this.stop(\"PATH_BLOCKED_WAIT_TIMEOUT\"))}moveCharOnPath(){let t=this.getDir(this.character.getNextTilePos().position,this.nextTileOnPath().position);this.character.move(t)}nextTileOnPath(){return this.shortestPath[this.posOnPath+1]}stop(t){this.finished$.next({position:this.character.getTilePos().position,result:t,description:this.resultToReason(t),layer:this.character.getTilePos().layer}),this.finished$.complete(),this.stopped=!0}turnTowardsTarget(){let t=this.shortestPath[this.posOnPath+1],e=this.getDir(this.character.getNextTilePos().position,t.position);this.character.turnTowards(e)}existsDistToTarget(){return this.posOnPath<this.shortestPath.length-1}hasArrived(){return!this.noPathFound()&&this.posOnPath+Math.max(0,this.distance-this.distOffset)>=this.shortestPath.length-1}updatePosOnPath(){let t=this.shortestPath[this.posOnPath];for(;this.posOnPath<this.shortestPath.length-1&&(this.character.getNextTilePos().position.x!=t.position.x||this.character.getNextTilePos().position.y!=t.position.y);)this.posOnPath++,t=this.shortestPath[this.posOnPath]}noPathFound(){return this.shortestPath.length===0}calcShortestPath(){let t=this.getShortestPath();this.posOnPath=0,this.shortestPath=t.path,this.distOffset=t.distOffset}getShortestPath(){let t=new Et,{path:e,closestToTarget:r}=t.getShortestPath(this.character.getNextTilePos(),this.targetPos,this.getNeighbours);if(e.length==0&&this.noPathFoundStrategy===\"CLOSEST_REACHABLE\"){let n=t.getShortestPath(this.character.getNextTilePos(),r,this.getNeighbours).path,s=this.distanceUtils.distance(r.position,this.targetPos.position);return{path:n,distOffset:s}}return{path:e,distOffset:0}}getDir(t,e){return this.distanceUtils.direction(t,e)}};var Lt=class{constructor(t,e,r,i=4,n=0,s=\"STOP\"){this.character=t;this.gridTilemap=e;this.charToFollow=r;this.numberOfDirections=i;this.distance=n;this.noPathFoundStrategy=s;this.character=t,this.updateTarget(this.charToFollow.getTilePos().position,this.charToFollow.getTilePos().layer),this.charToFollow.positionChangeStarted().pipe(N(this.character.autoMovementSet().pipe(C(h=>h!==this)))).subscribe(({enterTile:h,enterLayer:a})=>{this.updateTarget(h,a)})}update(t){var e;(e=this.targetMovement)==null||e.update(t)}updateTarget(t,e){this.targetMovement=new J(this.character,this.gridTilemap,{position:new l(t),layer:e},this.numberOfDirections,this.distance+1,{noPathFoundStrategy:this.noPathFoundStrategy})}};var tt=class{static copyOver(t,e){e.position.x=t.position.x,e.position.y=t.position.y,e.layer=t.layer}static clone(t){return{position:t.position.clone(),layer:t.layer}}};var X=class{constructor(t,e,r){this.sprite=t;this.walkingAnimationMapping=e;this.characterIndex=r;this.lastFootLeft=!1;this.directionToFrameRow={[\"down\"]:0,[\"down-left\"]:1,[\"down-right\"]:2,[\"left\"]:1,[\"right\"]:2,[\"up\"]:3,[\"up-left\"]:1,[\"up-right\"]:2};this._isEnabled=!0}setIsEnabled(t){this._isEnabled=t}isEnabled(){return this._isEnabled}updateCharacterFrame(t,e){this._isEnabled&&(e?this.setStandingFrameDuringWalk(t):this.setWalkingFrame(t))}setStandingFrame(t){this._isEnabled&&this._setStandingFrame(t)}setWalkingAnimationMapping(t){this.walkingAnimationMapping=t,this._isEnabled=this.walkingAnimationMapping!==void 0}setCharacterIndex(t){this.characterIndex=t,this._isEnabled=this.characterIndex!==-1}getWalkingAnimationMapping(){return this.walkingAnimationMapping}getCharacterIndex(){return this.characterIndex}setStandingFrameDuringWalk(t){this.isCurrentFrameStanding(t)||(this.lastFootLeft=!this.lastFootLeft),this._setStandingFrame(t)}setWalkingFrame(t){let e=this.framesOfDirection(t);this.sprite.setFrame(this.lastFootLeft?e.rightFoot:e.leftFoot)}_setStandingFrame(t){this.sprite.setFrame(this.framesOfDirection(t).standing)}isCurrentFrameStanding(t){return Number(this.sprite.frame.name)==this.framesOfDirection(t).standing}framesOfDirection(t){return this.walkingAnimationMapping?this.getFramesForAnimationMapping(t):this.getFramesForCharIndex(t)}getFramesForAnimationMapping(t){return this.walkingAnimationMapping[t]||this.walkingAnimationMapping[this.fallbackDirection(t)]}fallbackDirection(t){switch(t){case\"down-left\":return\"left\";case\"down-right\":return\"right\";case\"up-left\":return\"left\";case\"up-right\":return\"right\"}return t}getFramesForCharIndex(t){let e=this.sprite.texture.source[0].width/this.sprite.width/X.FRAMES_CHAR_ROW,r=Math.floor(this.characterIndex/e),i=this.characterIndex%e,n=e*X.FRAMES_CHAR_ROW,s=X.FRAMES_CHAR_ROW*i,h=this.directionToFrameRow[t]+r*X.FRAMES_CHAR_COL,a=s+h*n;return{rightFoot:a,standing:a+1,leftFoot:a+2}}},et=X;et.FRAMES_CHAR_ROW=3,et.FRAMES_CHAR_COL=4;var rt=class{static shiftPad(t,e){let r=Math.floor(t),n=`${r}`.padStart(e,\"0\").length;return r/Math.pow(10,n)}};var Rt=class{static copyOverImportantProperties(t,e){e.x=t.x,e.y=t.y,e.tint=t.tint,e.alpha=t.alpha,e.scale=t.scale,e.setFrame(t.frame.name),e.active=t.active,e.alphaBottomLeft=t.alphaBottomLeft,e.alphaBottomRight=t.alphaBottomRight,e.alphaTopLeft=t.alphaTopLeft,e.alphaTopRight=t.alphaTopRight,e.angle=t.angle}};var Mt=class{constructor(t,e){this.id=t;this.movementDirection=\"none\";this.tileSizePixelsWalked=l.ZERO;this._nextTilePos={position:new l(0,0),layer:void 0};this._tilePos={position:new l(0,0),layer:void 0};this.movementStarted$=new g;this.movementStopped$=new g;this.directionChanged$=new g;this.positionChangeStarted$=new g;this.positionChangeFinished$=new g;this.tilePositionSet$=new g;this.autoMovementSet$=new g;this.lastMovementImpulse=\"none\";this.facingDirection=\"down\";this.characterIndex=-1;typeof e.walkingAnimationMapping==\"number\"?this.characterIndex=e.walkingAnimationMapping:this.walkingAnimationMapping=e.walkingAnimationMapping,this.container=e.container,this.tilemap=e.tilemap,this.speed=e.speed,this.collidesWithTilesInternal=e.collidesWithTiles,this.customOffset=new l(e.offsetX||0,e.offsetY||0),this._tilePos.layer=e.charLayer,this.sprite=e.sprite,this.layerOverlaySprite=e.layerOverlaySprite,this.collisionGroups=new Set(e.collisionGroups||[]),this.layerOverlaySprite&&this.initLayerOverlaySprite(),this._setSprite(this.sprite)}getId(){return this.id}getSpeed(){return this.speed}setSpeed(t){this.speed=t}getSprite(){return this.sprite}setSprite(t){this._setSprite(t)}setMovement(t){this.autoMovementSet$.next(t),this.movement=t}getMovement(){return this.movement}collidesWithTiles(){return this.collidesWithTilesInternal}setWalkingAnimationMapping(t){typeof t==\"number\"?this.animation.setCharacterIndex(t):this.animation.setWalkingAnimationMapping(t)}setTilePosition(t){this.isMoving()&&this.movementStopped$.next(this.movementDirection),this.tilePositionSet$.next(S({},t)),this.nextTilePos=t,this.fire(this.positionChangeStarted$,this.tilePos,this.nextTilePos),this.fire(this.positionChangeFinished$,this.tilePos,this.nextTilePos),this.movementDirection=\"none\",this.lastMovementImpulse=\"none\",this.tilePos=t,this.setPosition(this.tilemap.tilePosToPixelPos(t.position).add(this.getOffset()).add(this.customOffset)),this.updateZindex()}getTilePos(){return this.tilePos}getNextTilePos(){return this.nextTilePos}move(t){this.lastMovementImpulse=t,t!=\"none\"&&(this.isMoving()||(this.isBlockingDirection(t)?(this.facingDirection=t,this.animation.setStandingFrame(t),this.directionChanged$.next(t)):this.startMoving(t)))}update(t){var e,r,i;(e=this.movement)==null||e.update(t),this.isMoving()&&(this.updateCharacterPosition(t),this.updateZindex()),this.lastMovementImpulse=\"none\",this.layerOverlaySprite&&(Rt.copyOverImportantProperties(this.sprite,this.layerOverlaySprite),this.layerOverlaySprite.x=this.sprite.x+(((r=this.container)==null?void 0:r.x)||0),this.layerOverlaySprite.y=this.sprite.y+(((i=this.container)==null?void 0:i.y)||0))}getMovementDirection(){return this.movementDirection}isBlockingDirection(t){if(t==\"none\")return!1;let e=this.tilePosInDirection(t),r=this.tilemap.getTransition(e,this.nextTilePos.layer)||this.nextTilePos.layer;return this.collidesWithTilesInternal&&this.tilemap.hasBlockingTile(r,e,Ie(t))?!0:this.tilemap.hasBlockingChar(e,r,this.getCollisionGroups())}isMoving(){return this.movementDirection!=\"none\"}turnTowards(t){this.isMoving()||t!=\"none\"&&(this.facingDirection=t,this.animation.setStandingFrame(t))}getFacingDirection(){return this.facingDirection}getFacingPosition(){return this._tilePos.position.add(L(this.facingDirection))}addCollisionGroup(t){this.collisionGroups.add(t)}setCollisionGroups(t){this.collisionGroups=new Set(t)}getCollisionGroups(){return Array.from(this.collisionGroups)}hasCollisionGroup(t){return this.collisionGroups.has(t)}removeCollisionGroup(t){this.collisionGroups.delete(t)}removeAllCollisionGroups(){this.collisionGroups.clear()}movementStarted(){return this.movementStarted$}movementStopped(){return this.movementStopped$}directionChanged(){return this.directionChanged$}tilePositionSet(){return this.tilePositionSet$}positionChangeStarted(){return this.positionChangeStarted$}positionChangeFinished(){return this.positionChangeFinished$}autoMovementSet(){return this.autoMovementSet$}_setSprite(t){t.setOrigin(0,0),t.x=this.sprite.x,t.y=this.sprite.y,this.sprite=t,this.animation=new et(this.sprite,this.walkingAnimationMapping,this.characterIndex),this.animation.setIsEnabled(this.walkingAnimationMapping!==void 0||this.characterIndex!==-1),this.animation.setStandingFrame(\"down\"),this.updateZindex()}getOffset(){let t=this.tilemap.getTileWidth()/2-Math.floor(this.sprite.displayWidth/2),e=-this.sprite.displayHeight+this.tilemap.getTileHeight();return new l(t,e)}updateCharacterPosition(t){let e=this.getSpeedPerDelta(t),r=this.getDistToNextTile(),i=r.length()<=e.length(),n=i?r:e;this.moveCharacterSprite(n),i&&(this.shouldContinueMoving()?(this.fire(this.positionChangeFinished$,this.tilePos,this.nextTilePos),this.startMoving(this.lastMovementImpulse),this.updateCharacterPosition(t*this.getProportionWalked(e,r))):this.stopMoving())}speedPixelsPerSecond(t){return L(t).abs().multiply(this.tilemap.getTileDistance(t)).scalarMult(this.speed)}get nextTilePos(){return{position:this._nextTilePos.position.clone(),layer:this._nextTilePos.layer}}set nextTilePos(t){tt.copyOver(t,this._nextTilePos)}get tilePos(){return tt.clone(this._tilePos)}set tilePos(t){tt.copyOver(t,this._tilePos)}gameObject(){return this.container||this.sprite}updateZindex(){if(this.setDepth(this.gameObject(),this.nextTilePos),this.layerOverlaySprite){let t=new l(U(S({},this.nextTilePos.position),{y:this.nextTilePos.position.y-1}));this.setDepth(this.layerOverlaySprite,{position:t,layer:this.nextTilePos.layer})}}setDepth(t,e){t.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(e))+this.getPaddedPixelDepth())}getPaddedPixelDepth(){return rt.shiftPad(this.gameObject().y+this.gameObject().displayHeight,7)}getTransitionLayer(t){return this.tilemap.getTransition(t.position,t.layer)||t.layer}setPosition(t){this.gameObject().x=t.x,this.gameObject().y=t.y}getPosition(){return new l(this.gameObject().x,this.gameObject().y)}startMoving(t){t!==\"none\"&&(t!=this.movementDirection&&this.movementStarted$.next(t),this.movementDirection=t,this.facingDirection=t,this.updateTilePos())}updateTilePos(){this.tilePos=this.nextTilePos;let t=this.tilePosInDirection(this.movementDirection),r=this.tilemap.getTransition(t,this.tilePos.layer)||this.tilePos.layer;this.nextTilePos={position:t,layer:r},this.fire(this.positionChangeStarted$,this.tilePos,this.nextTilePos)}tilePosInDirection(t){return this.nextTilePos.position.add(L(this.tilemap.toMapDirection(t)))}getDistToNextTile(){return this.tilemap.getTileDistance(this.movementDirection).subtract(this.tileSizePixelsWalked).multiply(L(this.movementDirection))}getProportionWalked(t,e){let i=t.subtract(e).divide(t);return isNaN(i.x)&&(i.x=0),Math.max(Math.abs(i.x),Math.abs(i.y))}shouldContinueMoving(){return this.lastMovementImpulse!==\"none\"&&!this.isBlockingDirection(this.lastMovementImpulse)}getSpeedPerDelta(t){let e=t/1e3;return this.speedPixelsPerSecond(this.movementDirection).scalarMult(e).multiply(L(this.movementDirection))}moveCharacterSprite(t){let e=this.getPosition().add(t);this.setPosition(e),this.tileSizePixelsWalked=this.tileSizePixelsWalked.add(t.abs()),this.animation.updateCharacterFrame(this.movementDirection,this.hasWalkedHalfATile()),this.tileSizePixelsWalked=this.tileSizePixelsWalked.modulo(this.tilemap.getTileDistance(this.movementDirection))}stopMoving(){if(this.movementDirection===\"none\")return;let t=this.tilePos,e=this.nextTilePos,r=this.movementDirection;this.tilePos=this.nextTilePos,this.movementDirection=\"none\",this.movementStopped$.next(r),this.fire(this.positionChangeFinished$,t,e)}hasWalkedHalfATile(){return this.tileSizePixelsWalked.x>this.tilemap.getTileDistance(this.movementDirection).x/2||this.tileSizePixelsWalked.y>this.tilemap.getTileDistance(this.movementDirection).y/2}fire(t,{position:e,layer:r},{position:i,layer:n}){t.next({exitTile:e,enterTile:i,exitLayer:r,enterLayer:n})}initLayerOverlaySprite(){this.layerOverlaySprite.scale=this.sprite.scale;let t=this.tilemap.getTileHeight()/this.layerOverlaySprite.scale;this.layerOverlaySprite.setCrop(0,0,this.layerOverlaySprite.displayWidth,this.sprite.height-t),this.layerOverlaySprite.setOrigin(0,0)}};var Ft=class{constructor(){this.tilePosToCharacters=new Map;this.positionChangeStartedSubs=new Map;this.tilePosSetSubs=new Map;this.positionChangeFinishedSubs=new Map}isCharBlockingAt(t,e,r){let i=this.posToString(t,e);return this.tilePosToCharacters.has(i)&&this.tilePosToCharacters.get(i).size>0&&[...this.tilePosToCharacters.get(i)].some(n=>n.getCollisionGroups().some(s=>r.includes(s)))}addCharacter(t){this.add(this.posToString(t.getTilePos().position,t.getTilePos().layer),t),this.add(this.posToString(t.getNextTilePos().position,t.getNextTilePos().layer),t),this.addPositionChangeSub(t),this.addPositionChangeFinishedSub(t),this.addTilePosSetSub(t)}removeCharacter(t){let e=t.getId();this.positionChangeStartedSubs.get(e).unsubscribe(),this.positionChangeFinishedSubs.get(e).unsubscribe(),this.tilePosSetSubs.get(e).unsubscribe(),this.tilePosToCharacters.get(this.posToString(t.getTilePos().position,t.getTilePos().layer)).delete(t),this.tilePosToCharacters.get(this.posToString(t.getNextTilePos().position,t.getNextTilePos().layer)).delete(t)}add(t,e){this.tilePosToCharacters.has(t)||this.tilePosToCharacters.set(t,new Set),this.tilePosToCharacters.get(t).add(e)}addTilePosSetSub(t){let e=t.tilePositionSet().subscribe(r=>{this.tilePosToCharacters.get(this.posToString(t.getNextTilePos().position,t.getNextTilePos().layer)).delete(t)});this.tilePosSetSubs.set(t.getId(),e)}addPositionChangeSub(t){let e=t.positionChangeStarted().subscribe(r=>{v.get().characterCollisionStrategy===\"BLOCK_ONE_TILE_AHEAD\"&&this.tilePosToCharacters.get(this.posToString(r.exitTile,r.exitLayer)).delete(t),this.add(this.posToString(r.enterTile,r.enterLayer),t)});this.positionChangeStartedSubs.set(t.getId(),e)}addPositionChangeFinishedSub(t){let e=t.positionChangeFinished().subscribe(r=>{this.tilePosToCharacters.get(this.posToString(r.exitTile,r.exitLayer)).delete(t)});this.positionChangeFinishedSubs.set(t.getId(),e)}posToString(t,e){return`${t.x}#${t.y}#${e}`}};var It=class{constructor(t,e,r,i){this.x=t;this.y=e;this.width=r;this.height=i}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}isInRange(t){return t.x>=this.x&&t.x<this.x+this.width&&t.y>=this.y&&t.y<this.y+this.height}};var T=class{constructor(t){this.tilemap=t;this.characters=new Map;this.charBlockCache=new Ft;this.charLayerDepths=new Map;this.transitions=new Map;this.setLayerDepths()}addCharacter(t){this.characters.set(t.getId(),t),t.getNextTilePos().layer===void 0&&t.setTilePosition(U(S({},t.getNextTilePos()),{layer:this.getLowestCharLayer()})),this.charBlockCache.addCharacter(t)}removeCharacter(t){this.charBlockCache.removeCharacter(this.characters.get(t)),this.characters.delete(t)}getCharacters(){return[...this.characters.values()]}isBlocking(t,e,r,i){return this.hasNoTile(e,t)||this.hasBlockingTile(t,e,i)||this.hasBlockingChar(e,t,r)}hasBlockingTile(t,e,r){return this.hasNoTile(e,t)?!0:this.getCollisionRelevantLayers(t).some(i=>this.isLayerBlockingAt(i,e,r))}getTransition(t,e){let r=this.transitions.get(t.toString());if(r)return r.get(e)}setTransition(t,e,r){this.transitions.has(t.toString())||this.transitions.set(t.toString(),new Map),this.transitions.get(t.toString()).set(e,r)}getTransitions(){return new Map([...this.transitions].map(([t,e])=>[t,new Map(e)]))}hasNoTile(t,e){return!this.getCollisionRelevantLayers(e).some(r=>this.tilemap.hasTileAt(t.x,t.y,r.name))}hasBlockingChar(t,e,r){return this.charBlockCache.isCharBlockingAt(t,e,r)}getTileWidth(){let t=this.tilemap.layers[0].tilemapLayer.scale;return this.tilemap.tileWidth*t}getTileHeight(){let t=this.tilemap.layers[0].tilemapLayer.scale;return this.tilemap.tileHeight*t}getDepthOfCharLayer(t){return this.charLayerDepths.get(t)||0}isInRange(t){return new It(0,0,this.tilemap.width,this.tilemap.height).isInRange(t)}getTileSize(){return new l(this.getTileWidth(),this.getTileHeight())}tilePosToPixelPos(t){return this.isIsometric()?x.scalarMult(this.getTileSize(),.5).multiply(new l(t.x-t.y,t.x+t.y)):t.clone().multiply(this.getTileSize())}getTileDistance(t){if(this.isIsometric())switch(t){case\"down-left\":case\"down-right\":case\"up-left\":case\"up-right\":return x.scalarMult(this.getTileSize(),.5);default:return this.getTileSize()}return this.getTileSize()}toMapDirection(t){return this.isIsometric()?Fe(t):t}isIsometric(){return this.tilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()}isLayerBlockingAt(t,e,r){let i=T.ONE_WAY_COLLIDE_PROP_PREFIX+r,n=this.tilemap.getTileAt(e.x,e.y,!1,t.name);return Boolean((n==null?void 0:n.properties)&&(n.properties[v.get().collisionTilePropertyName]||n.properties[i]))}getCharLayerIndexes(){return this.tilemap.layers.map((t,e)=>({layer:t,index:e})).filter(({layer:t})=>this.isCharLayer(t)).map(({index:t})=>t)}findPrevAndCharLayer(t){let e=this.getCharLayerIndexes(),r=e.findIndex(i=>this.getLayerProp(this.tilemap.layers[i],T.CHAR_LAYER_PROP_NAME)==t);return r==0?{prevIndex:-1,charLayerIndex:e[r]}:{prevIndex:e[r-1],charLayerIndex:e[r]}}getCollisionRelevantLayers(t){if(!t)return this.tilemap.layers;let{prevIndex:e,charLayerIndex:r}=this.findPrevAndCharLayer(t);return this.tilemap.layers.slice(e+1,r+1)}getLowestCharLayer(){let t=this.tilemap.layers.find(e=>this.hasLayerProp(e,T.CHAR_LAYER_PROP_NAME));if(t)return this.getLayerProp(t,T.CHAR_LAYER_PROP_NAME)}getLayerProp(t,e){let i=t.properties.find(n=>n.name==e);return i==null?void 0:i.value}hasLayerProp(t,e){return this.getLayerProp(t,e)!=null}isLayerAlwaysOnTop(t){return this.hasLayerProp(t,T.ALWAYS_TOP_PROP_NAME)}isCharLayer(t){return this.hasLayerProp(t,T.CHAR_LAYER_PROP_NAME)}setLayerDepths(){let t=[],e=-1,r=this.tilemap.layers.filter(n=>this.isLayerAlwaysOnTop(n)),i=this.tilemap.layers.filter(n=>!this.isLayerAlwaysOnTop(n));i.forEach(n=>{this.hasLayerProp(n,T.HEIGHT_SHIFT_PROP_NAME)?(this.createHeightShiftLayers(n,e),t.push(n.tilemapLayer)):this.setDepth(n,++e)}),i.forEach(n=>{this.isCharLayer(n)||this.charLayerDepths.set(void 0,e)}),r.forEach((n,s)=>{n.tilemapLayer.setDepth(s+1+e)}),t.forEach(n=>n.destroy())}setDepth(t,e){t.tilemapLayer.setDepth(e),this.isCharLayer(t)&&this.charLayerDepths.set(this.getLayerProp(t,T.CHAR_LAYER_PROP_NAME),e)}createHeightShiftLayers(t,e){let r=this.getLayerProp(t,T.HEIGHT_SHIFT_PROP_NAME),i=1;for(let n=0;n<t.height;n++){let s=this.copyLayer(t,n);s.scale=t.tilemapLayer.scale,s.setDepth(e+rt.shiftPad((n+r)*this.getTileHeight()+i,T.Z_INDEX_PADDING))}}copyLayer(t,e){let r=this.tilemap.createBlankLayer(`${t.name}#${e}`,t.tilemapLayer.tileset);for(let i=0;i<t.width;i++)r.putTileAt(t.data[e][i],i,e);return r}},R=T;R.ALWAYS_TOP_PROP_NAME=\"ge_alwaysTop\",R.CHAR_LAYER_PROP_NAME=\"ge_charLayer\",R.HEIGHT_SHIFT_PROP_NAME=\"ge_heightShift\",R.ONE_WAY_COLLIDE_PROP_PREFIX=\"ge_collide_\",R.Z_INDEX_PADDING=7;var ft=class{static getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))}};var kt=class{constructor(t,e=4,r=0,i=-1){this.character=t;this.delay=r;this.radius=i;this.delayLeft=this.delay,this.initialRow=t.getNextTilePos().position.y,this.initialCol=t.getNextTilePos().position.x,this.randomizeStepSize(),this.stepsWalked=0,this.currentMovementDirection=\"none\",this.character.positionChangeStarted().pipe(N(this.character.autoMovementSet())).subscribe(()=>{this.stepsWalked++}),this.distanceUtils=Z.create(e)}update(t){if(this.shouldContinueWalkingCurrentDirection())this.character.move(this.currentMovementDirection);else if(this.delayLeft-=t,this.delayLeft<=0){this.delayLeft=this.delay;let e=this.getFreeRandomDirection();this.stepsWalked=0,this.character.move(e),this.currentMovementDirection=e,this.randomizeStepSize()}}shouldContinueWalkingCurrentDirection(){return this.stepsWalked<this.stepSize&&this.currentMovementDirection!==\"none\"&&!this.character.isBlockingDirection(this.currentMovementDirection)&&this.isWithinRadius(this.currentMovementDirection)}getFreeDirections(){return this.distanceUtils.getDirections().filter(e=>!this.character.isBlockingDirection(e)).filter(e=>this.isWithinRadius(e))}isWithinRadius(t){return this.radius==-1?!0:this.getDist(t)<=this.radius}getDist(t){return this.distanceUtils.distance(this.character.getNextTilePos().position.add(L(t)),new l(this.initialCol,this.initialRow))}getFreeRandomDirection(){let t=this.getFreeDirections();return t.length==0?\"none\":t[ft.getRandomInt(t.length)]}randomizeStepSize(){this.stepSize=ft.getRandomInt(this.radius)+1}};var dt=class{constructor(t){this.scene=t;this.isCreated=!1;this.scene.sys.events.once(\"boot\",this.boot,this)}boot(){this.scene.sys.events.on(\"update\",this.update,this),this.scene.sys.events.on(\"destroy\",this.destroy,this)}destroy(){this.scene=void 0,this.gridCharacters=void 0,this.gridTilemap=void 0,this.movementStarted$=void 0,this.movementStopped$=void 0,this.directionChanged$=void 0,this.positionChangeStarted$=void 0,this.positionChangeFinished$=void 0,this.charRemoved$=void 0}getCharLayer(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).getTilePos().layer}getTransition(t,e){return this.initGuard(),this.gridTilemap.getTransition(new l(t),e)}setTransition(t,e,r){return this.initGuard(),this.gridTilemap.setTransition(new l(t),e,r)}create(t,e){this.isCreated=!0,this.gridCharacters=new Map;let r=this.setConfigDefaults(e);v.set(r),this.movementStopped$=new g,this.movementStarted$=new g,this.directionChanged$=new g,this.positionChangeStarted$=new g,this.positionChangeFinished$=new g,this.charRemoved$=new g,this.gridTilemap=new R(t),this.addCharacters()}getPosition(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).getTilePos().position}move(t,e){this.moveChar(t,e)}moveRandomly(t,e=0,r=-1){this.initGuard(),this.unknownCharGuard(t);let i=new kt(this.gridCharacters.get(t),v.get().numberOfDirections,e,r);this.gridCharacters.get(t).setMovement(i)}moveTo(t,e,r){let i=this.assembleMoveToConfig(r);this.initGuard(),this.unknownCharGuard(t);let n=new J(this.gridCharacters.get(t),this.gridTilemap,{position:new l(e),layer:(r==null?void 0:r.targetLayer)||this.gridCharacters.get(t).getNextTilePos().layer},v.get().numberOfDirections,0,i);return this.gridCharacters.get(t).setMovement(n),n.finishedObs().pipe(z(1),Ct(s=>({charId:t,position:s.position,result:s.result,description:s.description,layer:s.layer})))}stopMovement(t){this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).setMovement(void 0)}setSpeed(t,e){this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).setSpeed(e)}setWalkingAnimationMapping(t,e){this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).setWalkingAnimationMapping(e)}update(t,e){if(this.isCreated&&this.gridCharacters)for(let[r,i]of this.gridCharacters)i.update(e)}addCharacter(t){this.initGuard();let e=v.get().layerOverlay?this.scene.add.sprite(0,0,t.sprite.texture):void 0,r={sprite:t.sprite,layerOverlaySprite:e,speed:t.speed||4,tilemap:this.gridTilemap,walkingAnimationMapping:t.walkingAnimationMapping,container:t.container,offsetX:t.offsetX,offsetY:t.offsetY,collidesWithTiles:!0,collisionGroups:[\"geDefault\"],charLayer:t.charLayer};typeof t.collides==\"boolean\"?t.collides===!1&&(r.collidesWithTiles=!1,r.collisionGroups=[]):t.collides!==void 0&&(t.collides.collidesWithTiles===!1&&(r.collidesWithTiles=!1),t.collides.collisionGroups&&(r.collisionGroups=t.collides.collisionGroups));let i=this.createCharacter(t.id,r);t.facingDirection&&i.turnTowards(t.facingDirection),this.gridCharacters.set(t.id,i);let n=t.startPosition?new l(t.startPosition):new l(0,0);i.setTilePosition({position:n,layer:i.getTilePos().layer}),this.gridTilemap.addCharacter(i),i.movementStopped().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s=>{this.movementStopped$.next({charId:i.getId(),direction:s})}),i.movementStarted().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s=>{this.movementStarted$.next({charId:i.getId(),direction:s})}),i.directionChanged().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s=>{this.directionChanged$.next({charId:i.getId(),direction:s})}),i.positionChangeStarted().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s=>{this.positionChangeStarted$.next(S({charId:i.getId()},s))}),i.positionChangeFinished().pipe(this.takeUntilCharRemoved(i.getId())).subscribe(s=>{this.positionChangeFinished$.next(S({charId:i.getId()},s))})}hasCharacter(t){return this.initGuard(),this.gridCharacters.has(t)}removeCharacter(t){this.initGuard(),this.unknownCharGuard(t),this.gridTilemap.removeCharacter(t),this.gridCharacters.delete(t),this.charRemoved$.next(t)}removeAllCharacters(){this.initGuard();for(let t of this.gridCharacters.keys())this.removeCharacter(t)}getAllCharacters(){return this.initGuard(),[...this.gridCharacters.keys()]}follow(t,e,r=0,i=!1){this.initGuard(),this.unknownCharGuard(t),this.unknownCharGuard(e);let n=new Lt(this.gridCharacters.get(t),this.gridTilemap,this.gridCharacters.get(e),v.get().numberOfDirections,r,i?\"CLOSEST_REACHABLE\":\"STOP\");this.gridCharacters.get(t).setMovement(n)}isMoving(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).isMoving()}getFacingDirection(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).getFacingDirection()}getFacingPosition(t){this.initGuard(),this.unknownCharGuard(t);let e=this.gridCharacters.get(t).getFacingPosition();return{x:e.x,y:e.y}}turnTowards(t,e){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).turnTowards(e)}setPosition(t,e,r){this.initGuard(),this.unknownCharGuard(t),r||this.gridCharacters.get(t).setTilePosition({position:new l(e),layer:this.gridCharacters.get(t).getTilePos().layer}),this.gridCharacters.get(t).setTilePosition({position:new l(e),layer:r})}getSprite(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).getSprite()}setSprite(t,e){this.initGuard(),this.unknownCharGuard(t),e.setOrigin(0,0),this.gridCharacters.get(t).setSprite(e)}isBlocked(t,e,r=[\"geDefault\"]){return this.initGuard(),this.gridTilemap.isBlocking(e,new l(t),r)}isTileBlocked(t,e){return this.initGuard(),this.gridTilemap.hasBlockingTile(e,new l(t))}getCollisionGroups(t){return this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).getCollisionGroups()}setCollisionGroups(t,e){this.initGuard(),this.unknownCharGuard(t),this.gridCharacters.get(t).setCollisionGroups(e)}steppedOn(t,e,r){return this.positionChangeFinished().pipe(C(i=>t.includes(i.charId)&&e.some(n=>n.x===i.enterTile.x&&n.y===i.enterTile.y)&&(r===void 0||r.includes(i.enterLayer))))}movementStarted(){return this.movementStarted$}movementStopped(){return this.movementStopped$}directionChanged(){return this.directionChanged$}positionChangeStarted(){return this.positionChangeStarted$}positionChangeFinished(){return this.positionChangeFinished$}setConfigDefaults(t){return S({collisionTilePropertyName:\"ge_collide\",numberOfDirections:4,characterCollisionStrategy:\"BLOCK_TWO_TILES\",layerOverlay:!1},t)}takeUntilCharRemoved(t){return N(this.charRemoved$.pipe(C(e=>e==t)))}initGuard(){if(!this.isCreated)throw new Error(\"Plugin not initialized. You need to call create() first.\")}unknownCharGuard(t){if(!this.gridCharacters.has(t))throw new Error(`Character unknown: ${t}`)}createCharacter(t,e){return new Mt(t,e)}addCharacters(){v.get().characters.forEach(t=>this.addCharacter(t))}moveChar(t,e){if(this.initGuard(),this.unknownCharGuard(t),v.get().numberOfDirections===4){if(!this.gridTilemap.isIsometric()&&_t(e)){console.warn(`GridEngine: Character '${t}' can't be moved '${e}' in 4 direction mode.`);return}else if(this.gridTilemap.isIsometric()&&!_t(e)){console.warn(`GridEngine: Character '${t}' can't be moved '${e}' in 4 direction isometric mode.`);return}}this.gridCharacters.get(t).move(e)}assembleMoveToConfig(t){let e=U(S({},t),{noPathFoundStrategy:\"STOP\",pathBlockedStrategy:\"WAIT\"});return t!=null&&t.noPathFoundStrategy&&(Object.values(Y).includes(t.noPathFoundStrategy)?e.noPathFoundStrategy=t.noPathFoundStrategy:console.warn(`GridEngine: Unknown NoPathFoundStrategy '${t.noPathFoundStrategy}'. Falling back to '${\"STOP\"}'`)),t!=null&&t.pathBlockedStrategy&&(Object.values(Q).includes(t.pathBlockedStrategy)?e.pathBlockedStrategy=t.pathBlockedStrategy:console.warn(`GridEngine: Unknown PathBlockedStrategy '${t.pathBlockedStrategy}'. Falling back to '${\"WAIT\"}'`)),e}};var ms=dt;export{it as CollisionStrategy,_ as Direction,dt as GridEngine,wt as MoveToResult,Y as NoPathFoundStrategy,G as NumberOfDirections,Q as PathBlockedStrategy,ms as default};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n"]},"metadata":{},"sourceType":"module"}