{"ast":null,"code":"import { Scene } from 'phaser';\nexport default class MainMenuScene extends Scene {\n  constructor() {\n    super('GameOverScene');\n  }\n\n  preload() {// TODO\n  }\n\n  create() {\n    const fontSize = 24;\n    const {\n      width: gameWidth,\n      height: gameHeight\n    } = this.cameras.main;\n    const gameOverText = this.add.text(gameWidth / 2, Math.ceil(gameHeight / 5), 'game over', {\n      fontFamily: '\"Press Start 2P\"',\n      fontSize: `${fontSize}px`,\n      size: `${fontSize}px`,\n      fill: '#ffffff',\n      color: '#ffffff'\n    }).setDepth(10).setOrigin(0.5, 0.5);\n    const scale = Math.max(Math.ceil(gameWidth / 220), Math.ceil(gameHeight / 124));\n    this.add.image(0, 0, 'game_over_background').setScale(scale).setDepth(0).setOrigin(0, 0);\n    const customEvent = new CustomEvent('menu-items', {\n      detail: {\n        menuItems: ['game.game_over.retry', 'game.game_over.exit'],\n        menuPosition: 'center'\n      }\n    });\n    window.dispatchEvent(customEvent);\n\n    const gameMenuSelectedEventListener = _ref => {\n      let {\n        detail\n      } = _ref;\n\n      switch (detail.selectedItem) {\n        case 'game.game_over.retry':\n          {\n            this.scene.start('MainMenuScene');\n            break;\n          }\n\n        case 'game.game_over.exit':\n          {\n            window.location.reload();\n            break;\n          }\n\n        default:\n          {\n            break;\n          }\n      }\n\n      window.removeEventListener('menu-item-selected', gameMenuSelectedEventListener);\n    };\n\n    window.addEventListener('menu-item-selected', gameMenuSelectedEventListener);\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/chat-app/game/src/game/scenes/GameOverScene.js"],"names":["Scene","MainMenuScene","constructor","preload","create","fontSize","width","gameWidth","height","gameHeight","cameras","main","gameOverText","add","text","Math","ceil","fontFamily","size","fill","color","setDepth","setOrigin","scale","max","image","setScale","customEvent","CustomEvent","detail","menuItems","menuPosition","window","dispatchEvent","gameMenuSelectedEventListener","selectedItem","scene","start","location","reload","removeEventListener","addEventListener"],"mappings":"AAAA,SAASA,KAAT,QAAsB,QAAtB;AAEA,eAAe,MAAMC,aAAN,SAA4BD,KAA5B,CAAkC;AAC7CE,EAAAA,WAAW,GAAG;AACV,UAAM,eAAN;AACH;;AAEDC,EAAAA,OAAO,GAAG,CACN;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAMC,QAAQ,GAAG,EAAjB;AACA,UAAM;AAAEC,MAAAA,KAAK,EAAEC,SAAT;AAAoBC,MAAAA,MAAM,EAAEC;AAA5B,QAA2C,KAAKC,OAAL,CAAaC,IAA9D;AAEA,UAAMC,YAAY,GAAG,KAAKC,GAAL,CAASC,IAAT,CACjBP,SAAS,GAAG,CADK,EAEjBQ,IAAI,CAACC,IAAL,CAAUP,UAAU,GAAG,CAAvB,CAFiB,EAGjB,WAHiB,EAIjB;AACIQ,MAAAA,UAAU,EAAE,kBADhB;AAEIZ,MAAAA,QAAQ,EAAG,GAAEA,QAAS,IAF1B;AAGIa,MAAAA,IAAI,EAAG,GAAEb,QAAS,IAHtB;AAIIc,MAAAA,IAAI,EAAE,SAJV;AAKIC,MAAAA,KAAK,EAAE;AALX,KAJiB,EAWnBC,QAXmB,CAWV,EAXU,EAWNC,SAXM,CAWI,GAXJ,EAWS,GAXT,CAArB;AAaA,UAAMC,KAAK,GAAGR,IAAI,CAACS,GAAL,CAAST,IAAI,CAACC,IAAL,CAAUT,SAAS,GAAG,GAAtB,CAAT,EAAqCQ,IAAI,CAACC,IAAL,CAAUP,UAAU,GAAG,GAAvB,CAArC,CAAd;AACA,SAAKI,GAAL,CAASY,KAAT,CAAe,CAAf,EAAkB,CAAlB,EAAqB,sBAArB,EACKC,QADL,CACcH,KADd,EAEKF,QAFL,CAEc,CAFd,EAGKC,SAHL,CAGe,CAHf,EAGkB,CAHlB;AAKA,UAAMK,WAAW,GAAG,IAAIC,WAAJ,CAAgB,YAAhB,EAA8B;AAC9CC,MAAAA,MAAM,EAAE;AACJC,QAAAA,SAAS,EAAE,CAAC,sBAAD,EAAyB,qBAAzB,CADP;AAEJC,QAAAA,YAAY,EAAE;AAFV;AADsC,KAA9B,CAApB;AAOAC,IAAAA,MAAM,CAACC,aAAP,CAAqBN,WAArB;;AACA,UAAMO,6BAA6B,GAAG,QAAgB;AAAA,UAAf;AAAEL,QAAAA;AAAF,OAAe;;AAClD,cAAQA,MAAM,CAACM,YAAf;AACI,aAAK,sBAAL;AAA6B;AACzB,iBAAKC,KAAL,CAAWC,KAAX,CAAiB,eAAjB;AACA;AACH;;AAED,aAAK,qBAAL;AAA4B;AACxBL,YAAAA,MAAM,CAACM,QAAP,CAAgBC,MAAhB;AACA;AACH;;AAED;AAAS;AACL;AACH;AAbL;;AAgBAP,MAAAA,MAAM,CAACQ,mBAAP,CACI,oBADJ,EAEIN,6BAFJ;AAIH,KArBD;;AAuBAF,IAAAA,MAAM,CAACS,gBAAP,CACI,oBADJ,EAEIP,6BAFJ;AAIH;;AAnE4C","sourcesContent":["import { Scene } from 'phaser';\n\nexport default class MainMenuScene extends Scene {\n    constructor() {\n        super('GameOverScene');\n    }\n\n    preload() {\n        // TODO\n    }\n\n    create() {\n        const fontSize = 24;\n        const { width: gameWidth, height: gameHeight } = this.cameras.main;\n\n        const gameOverText = this.add.text(\n            gameWidth / 2,\n            Math.ceil(gameHeight / 5),\n            'game over',\n            {\n                fontFamily: '\"Press Start 2P\"',\n                fontSize: `${fontSize}px`,\n                size: `${fontSize}px`,\n                fill: '#ffffff',\n                color: '#ffffff',\n            }\n        ).setDepth(10).setOrigin(0.5, 0.5);\n\n        const scale = Math.max(Math.ceil(gameWidth / 220), Math.ceil(gameHeight / 124));\n        this.add.image(0, 0, 'game_over_background')\n            .setScale(scale)\n            .setDepth(0)\n            .setOrigin(0, 0);\n\n        const customEvent = new CustomEvent('menu-items', {\n            detail: {\n                menuItems: ['game.game_over.retry', 'game.game_over.exit'],\n                menuPosition: 'center',\n            },\n        });\n\n        window.dispatchEvent(customEvent);\n        const gameMenuSelectedEventListener = ({ detail }) => {\n            switch (detail.selectedItem) {\n                case 'game.game_over.retry': {\n                    this.scene.start('MainMenuScene');\n                    break;\n                }\n\n                case 'game.game_over.exit': {\n                    window.location.reload();\n                    break;\n                }\n\n                default: {\n                    break;\n                }\n            }\n\n            window.removeEventListener(\n                'menu-item-selected',\n                gameMenuSelectedEventListener\n            );\n        };\n\n        window.addEventListener(\n            'menu-item-selected',\n            gameMenuSelectedEventListener\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}